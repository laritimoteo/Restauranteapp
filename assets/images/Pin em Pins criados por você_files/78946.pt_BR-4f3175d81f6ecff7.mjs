(self.modernJsonp=self.modernJsonp||[]).push([["78946"],{316387:function(e,t,i){var n,l;i.r(t),i.d(t,{default:()=>o});let a=(l=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null});a.hash="38e173ab2c3107ebc5b3da9f216fac98";let o=a},658559:function(e,t,i){var n,l,a,o;i.r(t),i.d(t,{default:()=>r});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DescriptionWithLinksAndMentions_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[n,l,a,o],storageKey:null},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};s.hash="93be5ba2b479913d0e23e4971f11a9cd";let r=s},441590:function(e,t,i){var n,l,a,o,s;i.r(t),i.d(t,{default:()=>d});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisualContext_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:o,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s=[a,n,l],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"1200x")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetMainPinImage_pin"}],type:"Pin",abstractKey:null};r.hash="f5ddfd6a30ebe10b0f0a7b0bf12bea4e";let d=r},673588:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>a});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"1200x")'}],type:"Pin",abstractKey:null};l.hash="64a50a10a8f854ca82309453d98f41a7";let a=l},767439:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294);let l="undefined"!=typeof document?document:{},a=()=>{let e=(0,n.useRef)(void 0),t=l.documentElement,{body:i}=l;return t?[()=>{if(!i||!i.style||e.current)return;let n=window.innerWidth-t.clientWidth,l=parseInt(window.getComputedStyle(i).getPropertyValue("padding-right"),10)||0;t.style.position="relative",t.style.overflow="hidden",i.style.position="relative",i.style.overflow="hidden",i.style.paddingRight=`${l+n}px`,e.current=!0},()=>{i&&i.style&&e.current&&(t.style.position="",t.style.overflow="",i.style.position="",i.style.overflow="",i.style.paddingRight="",e.current=!1)}]:[]}},762802:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),l=i(765533),a=i(603316);class o extends n.PureComponent{constructor(...e){var t,i,n;super(...e),t="handleKeyDown",i=e=>{let{onClose:t,goToNext:i,goToPrevious:n}=this.props,o=e.keyCode||e.code;!e.ctrlKey&&!e.metaKey&&(["input","select","button","textarea"].includes(((document.activeElement||{}).tagName||"").toLowerCase())||document.activeElement&&document.activeElement.isContentEditable||(o===l.Z.LEFT?(e.preventDefault(),e.stopPropagation(),n&&n(),(0,a.nP)("web_keydown_left")):o===l.Z.RIGHT?(e.preventDefault(),e.stopPropagation(),i&&i(),(0,a.nP)("web_keydown_right")):o===l.Z.ESCAPE&&(e.preventDefault(),e.stopPropagation(),t())))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return null}}let s=o},878709:function(e,t,i){i.d(t,{A:()=>h,G:()=>u});var n,l=i(667294);i(167912);var a=i(729434),o=i(415546),s=i(453179),r=i(607652),d=i(785893);let{Provider:c,get:u}=(0,a.Z)("VisualContext"),m=(void 0!==n||(n=i(441590)).hash&&"f5ddfd6a30ebe10b0f0a7b0bf12bea4e"!==n.hash&&console.error("The definition of 'VisualContext_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),g=({children:e,pinKey:t,overrideValue:i={}})=>{let n=(0,o.Z)(m,t),{videos:a,embed:u,link:g,isVideo:h}=n??{},p=(0,l.useMemo)(()=>a?.videoList?.v720P?.url?{duration:a.videoList.v720P.duration||void 0,height:a.videoList.v720P.height||void 0,thumbnail:a.videoList.v720P.thumbnail||void 0,url:a.videoList.v720P.url||void 0,width:a.videoList.v720P.width||void 0,captions_urls:a.videoList.v720P.captionsUrls||void 0}:void 0,[a?.videoList?.v720P?.duration,a?.videoList?.v720P?.height,a?.videoList?.v720P?.thumbnail,a?.videoList?.v720P?.url,a?.videoList?.v720P?.width,a?.videoList?.v720P?.captionsUrls]),_=(0,l.useMemo)(()=>a?.videoList?.vHLSV4?.url?{duration:a.videoList.vHLSV4.duration||void 0,height:a.videoList.vHLSV4.height||void 0,thumbnail:a.videoList.vHLSV4.thumbnail||void 0,url:a.videoList.vHLSV4.url||void 0,width:a.videoList.vHLSV4.width||void 0}:void 0,[a?.videoList?.vHLSV4?.duration,a?.videoList?.vHLSV4?.height,a?.videoList?.vHLSV4?.thumbnail,a?.videoList?.vHLSV4?.url,a?.videoList?.vHLSV4?.width]),y=(0,l.useMemo)(()=>a?.videoList?.vHLSV3MOBILE?.url?{duration:a.videoList.vHLSV3MOBILE.duration||void 0,height:a.videoList.vHLSV3MOBILE.height||void 0,thumbnail:a.videoList.vHLSV3MOBILE.thumbnail||void 0,url:a.videoList.vHLSV3MOBILE.url||void 0,width:a.videoList.vHLSV3MOBILE.width||void 0}:void 0,[a?.videoList?.vHLSV3MOBILE?.duration,a?.videoList?.vHLSV3MOBILE?.height,a?.videoList?.vHLSV3MOBILE?.thumbnail,a?.videoList?.vHLSV3MOBILE?.url,a?.videoList?.vHLSV3MOBILE?.width]),x=(0,l.useMemo)(()=>{let e=p||_||y;return a?.entityId&&e?{id:a.entityId,hasVideo:e,mp4:p||void 0,hls:_||void 0,hlsv3:y||void 0}:null},[_,y,p,a?.entityId]),v=(0,s.sY)(u?.type),f=(0,s.oU)({isVideo:h,link:g}),{mainPinImage:b,srcSet:k,srcSizes:L}=(0,r.Z)({pinKey:n}),S=n?.imageSpec_1200x||n?.imageSpec_orig||n?.imageSpec_736x||n?.imageSpec_564x||n?.imageSpec_474x||n?.imageSpec_236x,w=(0,l.useMemo)(()=>({height:S?.height??1,url:S?.url??"",width:S?.width??1}),[S]),I=n?.imageSpec_236x,j=(0,l.useMemo)(()=>I?.url?{height:I.height??1,url:I.url,width:I.width??1}:null,[I]),P=(0,l.useMemo)(()=>{let e=u?.subtype==="pinstory",t=i.mainImage||b;return{...i,mainImage:t,previewImage:void 0===i.previewImage?j:i.previewImage,mediaViewerImage:w,video:x,embed:u,isYoutubePin:f,isEmbeddedVideo:!!u?.src&&!v&&!e,isGif:v,imgSrc:v&&u?.src?u.src:t.url,...v?{}:{srcSet:k},srcSizes:L}},[b,j,w,x,u,f,v,k,L,i]);return(0,d.jsx)(c,{value:P,children:e})},h=({children:e,pinKey:t,overrideValue:i={}})=>(0,d.jsx)(g,{overrideValue:i,pinKey:t,children:e})},736802:function(e,t,i){i.d(t,{Z:()=>o});var n=i(20256),l=i(785893);let a=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function o({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:t=!1,mWebCloseupRedesignEnabled:i=!1,text:o}){let s=t||i?"200":"300";return o.split(new RegExp(/(#\S*)/)).map((t,i)=>{let o=`${i}-${t}`;return t.match(a)?(0,l.jsx)(n.xv,{color:"link",inline:!0,size:s,children:(0,l.jsx)(n.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(t.replace("#",""))}`,underline:"none",children:t})},o):(0,l.jsx)(n.xv,{color:e?"subtle":void 0,inline:!0,size:s,children:t},o)})}},478086:function(e,t,i){i.d(t,{Z:()=>y});var n,l=i(667294);i(244311);var a=i(20256),o=i(471998),s=i(736802),r=i(980787),d=i(415546),c=i(805205),u=i(601686),m=i(785893);let g=(void 0!==n||(n=i(658559)).hash&&"93be5ba2b479913d0e23e4971f11a9cd"!==n.hash&&console.error("The definition of 'DescriptionWithLinksAndMentions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),h=e=>null!=e&&e>-1,p=({color:e,mention:t,tagObjectId:i,tagType:n,textSize:l})=>{let{logContextEvent:o}=(0,r.u)();return(0,m.jsx)(a.rU,{display:"inlineBlock",href:`/${t.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),o({event_type:101,element:11915,aux_data:{tag_id:i,tag_type:n}})},underline:"none",children:(0,m.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",size:l,weight:"bold",children:t},t)},i)},_=({color:e,link:t,tagObjectId:i,tagType:n,text:l,textSize:o})=>{let{logContextEvent:s}=(0,r.u)(),d=(0,c.Z)({site:"www"}),u=t.startsWith("pinterest://")?t.replace("pinterest://",`${d}/`):t;return(0,m.jsx)(a.xv,{color:e,inline:!0,overflow:"normal",size:o,children:(0,m.jsx)(a.rU,{display:"inlineBlock",href:u,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:18123,aux_data:{tag_id:i,tag_type:n,url:t}})},underline:"hover",children:l},i)},l)},y=({description:e,mentionLinkColor:t,pinKey:i,shouldAdjustOffset:n,shouldMakeHashtagLinksFromText:a,textSize:r,descriptionLinks:c,userMentionTags:y})=>{let{closeupWithinMasonryEnabled:x,peekCloseupEnabled:v}=(0,u.x4)(),f=(0,d.Z)(g,i),{hyperlinkKeywordsEnabled:b}=(0,o.Z)(f),k=y?.length?y.map(e=>({...f?.userMentionTags?.find(t=>t.offset===e.originalOffset),...e})):f?.userMentionTags??[],L=c?.length?c.map(e=>({...f?.descriptionLinks?.find(t=>t.offset===e.originalOffset),...e})):f?.descriptionLinks??[],S=k.length>0,w=b&&L.length>0;if(!S&&!w)return(0,m.jsx)(l.Fragment,{children:e});let I=0,j=[];return[...k.map(t=>({...t,type:"mention",offset:n?((e,t)=>{let i=t.substr(0,e);return(e??0)-(i.length-i.replace(/\s+/g," ").length)})(t.offset??0,e):t.offset??0})),...b?L.map(e=>({...e,type:"link",offset:e.offset??0})):[]].filter(e=>h(e.offset)&&h(e.length)).sort((e,t)=>(e.offset??0)-(t.offset??0)).forEach(i=>{let n=i?.offset??0,l=i?.length??0,a=e.substr(I,n-I),o=e.substr(n,l);j.push(a),i?.type==="mention"?j.push((0,m.jsx)(p,{color:t,mention:o,tagObjectId:i.objectId,tagType:i.tagType,textSize:r})):i?.type==="link"&&i?.link&&j.push((0,m.jsx)(_,{color:t,link:i.link,tagObjectId:i.objectId,tagType:i.tagType,text:o,textSize:r})),I=n+l}),j.push(e.substr(I)),(a?j.flatMap(e=>"string"!=typeof e?e:(0,s.Z)({closeupWithinMasonryEnabled:x,peekCloseupEnabled:v,text:e})):j).reduce((e,t)=>(0,m.jsxs)(l.Fragment,{children:[e,t]}),null)}},406196:function(e,t,i){i.d(t,{E:()=>r,N:()=>d});var n=i(667294),l=i(655202),a=i(729434),o=i(785893);let{Provider:s,get:r}=(0,a.Z)("Flag"),d=({children:e})=>{let[t,i]=(0,n.useState)(),[a,r]=(0,n.useState)(l.Zw.REPORT),[d,c]=(0,n.useState)(l.qb.STARTED),[u,m]=(0,n.useState)(),[g,h]=(0,n.useState)(),p=(0,n.useMemo)(()=>({flagReason:g,flow:a,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:r,setModalTitle:i,setStatus:c,setSelectedReason:m}),[t,a,d,u,g]);return(0,o.jsx)(s,{value:p,children:e})}},655202:function(e,t,i){i.d(t,{Vm:()=>a,Zw:()=>n,qb:()=>l});let n={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},l={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},a={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},47944:function(e,t,i){i.d(t,{Z:()=>s});var n=i(20256),l=i(744862),a=i(19585),o=i(785893);let s=({isQuestion:e,name:t,size:i,src:s})=>{let r=(0,a.Z)();return(0,o.jsxs)(n.xu,{"data-test-id":"comment-avatar-container",position:"relative",children:[(0,o.jsx)(l.qE,{name:t,size:i,src:s}),e&&(0,o.jsxs)(n.xu,{alignItems:"center",bottom:!0,display:"flex",height:16,justifyContent:"center",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,width:16,children:[(0,o.jsx)(n.xu,{position:"absolute",children:(0,o.jsx)(n.JO,{accessibilityLabel:r.bt("ComentÃ¡rio sobre perguntas e respostas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"dark",icon:"speech"})}),(0,o.jsx)(n.xu,{position:"absolute",children:(0,o.jsx)(n.JO,{accessibilityLabel:r.bt("ComentÃ¡rio sobre perguntas e respostas", "Q and A comment", "comment.userAvatar.creator.q&aIndicator", undefined, true),color:"light",icon:"question-mark",size:8})})]})]})}},315787:function(e,t,i){i.d(t,{Z:()=>es});var n=i(20256),l=i(667294),a=i(581722),o=i(473727),s=i(767439),r=i(111923),d=i(406196),c=i(47944),u=i(296691),m=i(333651),g=i(773655),h=i(744862),p=i(785893);let _={helpfulStyle:{backgroundImage:`url(${m})`},lovedStyle:{backgroundImage:`url(${g})`}},y=({response:e,handleReactionListHover:t,maybeDismissReactionListWithDelay:i})=>{let l=14===e.reaction_type,a=1===e.reaction_type,o=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(n.kC,{alignItems:"center",children:[(0,p.jsx)(n.Tg,{href:`/${e.user.username}/`,onBlur:i,onFocus:t,children:(0,p.jsxs)(n.kC,{alignItems:"center",children:[(0,p.jsx)(n.xu,{maxWidth:40,children:(0,p.jsx)(h.qE,{accessibilityLabel:"",name:o,outline:!0,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(n.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(n.xv,{size:"100",weight:"bold",children:o})})]})}),(0,p.jsxs)(n.xu,{alignContent:"end",display:"flex",padding:2,children:[a&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:_.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),l&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:_.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var x=i(821342),v=i(886981),f=i(448505),b=i(7872);let k=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],L=({commentId:e,handleReactionListHover:t,isMarkedHelpfulByMe:i,isLovedByMe:a,isTry:o,maybeDismissReactionListWithDelay:s})=>{let r=(0,x.Z)(),d=(0,f.Z)(),c=(0,v.Z)({name:"ApiResource",options:{url:o?`/v3/did_it/${e}/reacted_by/`:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:k}}),u=(0,b.lJ)(r,d)||("id"in r&&r.id?r.id:""),m=c.data;(a||i)&&m&&(m=m.filter(e=>e.user.id!==u),m=[{id:e,reaction_type:a?1:14,user:{first_name:(0,b.Fk)(r,d),full_name:(0,b.Fk)(r,d),id:u,image_medium_url:(0,b.gJ)(r,d),is_private_profile:!!r.isAuth&&!!r.isPrivateProfile,username:(0,b.Ms)(r,d)}},...m]);let g=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let{current:e}=g,t=()=>{c.isFetching||(c.isAtEnd?e?.removeEventListener("scroll",t):c.fetchMore())};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}},[c]),(0,p.jsx)(n.xu,{ref:g,maxHeight:140,overflow:"auto",rounding:2,width:200,children:m?.map(e=>(0,p.jsx)(n.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,p.jsx)(y,{handleReactionListHover:t,maybeDismissReactionListWithDelay:s,response:e})},e.id))})};var S=i(19585),w=i(821806),I=i(601686);let j=(0,l.lazy)(()=>i.e("46308").then(i.bind(i,766289))),P="comment-reaction-container-entry-point",T=({commentId:e,dismissReactionList:t,helpfulCount:i,isDesktop:a,isMarkedHelpfulByMe:o,isLovedByMe:s,isReactionListOpen:r,isTry:d,lovedCount:c,onReactionCountHover:h,onToggleHelpful:_,onToggleLove:y})=>{let x=(0,S.Z)(),{isCommentComposerFocused:v}=(0,I.x4)(),f=(0,l.useRef)(null),b=a?16:12,[k,T]=(0,l.useState)(!1),C=!1,A=(c||0)+(i||0);o&&s&&(A-=1);let E=e=>()=>{T(e)},z=()=>{C=!0,h()},D=()=>{C=!1,setTimeout(()=>{C||t()},1e3)},R=a?(0,p.jsx)(n.xu,{"data-test-id":P,children:k?(0,p.jsx)(n.iP,{onMouseLeave:E(!1),onTap:E(!1),children:(0,p.jsx)(w.Z,{children:(0,p.jsx)(j,{onTooltipHover:E(!1),setHelpful:_(!0),setLoved:y(!0)})})}):(0,p.jsx)(n.iP,{onMouseEnter:E(!0),onTap:E(!0),children:(0,p.jsx)(n.JO,{accessibilityLabel:x.bt("Reagir", "React", "comment.actionbar.react", undefined, true),color:"subtle",icon:"heart-outline",size:b})})}):(0,p.jsx)(n.xu,{"data-test-id":P,margin:-1.5,children:(0,p.jsx)(n.hU,{accessibilityLabel:x.bt("Reagir", "React", "comment.actionbar.react", undefined, true),icon:"heart-outline",onClick:y(!0),size:"xs"})});return(0,p.jsxs)(n.kC,{alignItems:"center",gap:{row:a?1:1.5,column:0},children:[o||s?(0,p.jsx)(n.iP,{onTap:()=>{_(!1)(),y(!1)()},children:(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${s?g:m})`,backgroundSize:"contain"}},"data-test-id":s?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:b,width:b})}):R,A>0&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(n.iP,{onMouseEnter:z,onMouseLeave:D,onTap:z,children:(0,p.jsx)(n.xu,{ref:f,"data-test-id":"comment-reaction-container-reaction-count",display:a?void 0:"flex",children:(0,p.jsx)(n.xv,{color:a?"subtle":"default",inline:!0,size:a?"200":"100",weight:"bold",children:A})})}),r&&(0,p.jsx)(n.mh,{zIndex:u.Ty,children:(0,p.jsx)(n.J2,{anchor:f.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,shouldFocus:!v,children:(0,p.jsx)(n.iP,{onMouseEnter:z,onMouseLeave:D,children:(0,p.jsx)(L,{commentId:e,handleReactionListHover:z,isLovedByMe:s,isMarkedHelpfulByMe:o,isTry:d,maybeDismissReactionListWithDelay:D})})})})]})]})};var C=i(624895),A=i(54424),E=i(545961),z=i(162321);function D(e){let{comment:t,commentTags:i,handlePhotoTap:a,isDesktop:o,previewPhoto:s,taggedUsers:r}=e,[d,c]=(0,l.useState)(!1),{user:{username:u}}=t,m="text"in t?t.text:t.details,g=o?`${u} ${m}`:m,{height:h,url:_,width:y}=s||{},x=h??E.Vb,v=y??E.mu;return(0,p.jsxs)(n.xu,{children:[(0,p.jsx)(z.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:r,tags:i,text:g}),o||!o?(0,p.jsx)(n.xu,{marginBottom:o?void 0:1.5,marginTop:o?1:.5,children:(0,p.jsx)(E.ZP,{canEnlargePhoto:o,isSelectedPhoto:!1,previewPhoto:s})}):(0,p.jsx)(n.xu,{height:150,marginBottom:o?4:2,marginTop:1,width:150,children:(0,p.jsx)(n.iP,{disabled:!o,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:a,children:(0,p.jsx)(n.zd,{rounding:2,wash:!0,children:_&&(0,p.jsx)(n.Ee,{alt:_,color:"#efefef",naturalHeight:x,naturalWidth:v,src:_,children:(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{cursor:o?"zoom-in":void 0,backgroundColor:`rgba(17, 17, 17, ${.4*!!d})`}},height:"100%",width:"100%"})},_)})})})]})}var R=i(667835),M=i(302148),F=i(105433),O=i(696323);function Z(e){let{featuredCommentId:t,parentId:i,parentType:o,inCommentsImprovedDropdownExp:s,inCommentsPopover:r,isDesktop:d,isLoading:c,isReadOnly:u,openOverflowMenu:m,replyingToCommentId:g,toggleEditComposer:h,toggleHelpful:_,toggleLike:y,toggleReplyComposer:x,isORBACProfileManager:v,isVideo:f,storyPinDataId:b,pinId:k,closeupAttributionId:L,aggregatedPinDataId:w,closeupAttributionUsername:I,pinnerId:j,reactionListCommentId:P,showReactionListForComment:T,viewParameter:C}=e,A=(0,S.Z)(),E=(0,R.vs)(),z=(0,F.lV)(),D=(0,a.v9)(({feeds:e})=>{let t=e[`${O.Z.AGGREGATED_COMMENT_REPLIES}:${i}`]||[],n=e[`${O.Z.AGGREGATED_COMMENTS}:${i}`]||[];return t.concat(n).reduceRight((e,{id:t})=>{let i=z[t];return i?[...e,i]:e},[])}),Z=(0,l.useRef)(!0),H=(0,l.useRef)(D.length),[K,N]=(0,l.useState)(1),[B,V]=(0,l.useState)(!1),U=K===D.length;return(0,l.useEffect)(()=>{let e=H.current,t=D.length;Z.current?t>0&&(Z.current=!1):t>e&&V(!0),t!==e&&N(e=>e>1?t:+(t>0)),H.current=t},[D.length]),(0,p.jsxs)(l.Fragment,{children:[D.length>1&&(0,p.jsx)(n.iP,{onTap:()=>{N(U?0:D.length)},children:(0,p.jsxs)(n.xu,{alignItems:d?void 0:"center",display:d?void 0:"flex",marginBottom:d?4:6,children:[d?(0,p.jsx)(n.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(n.xv,{color:"subtle",size:"200",weight:"bold",children:"âŽ¯âŽ¯"})}):(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:E?"white":"black"}},height:1,marginEnd:2,width:32}),(0,p.jsx)(n.xv,{color:d?"subtle":"default",inline:!0,size:"100",weight:"bold",children:U?A.bt("Ocultar respostas", "Hide replies", "comment.button.hideReplies", undefined, true):(0,M.nk)(A.nbt(["Ver {{ commentCount }} resposta", "Ver {{ commentCount }} respostas"], D.length, "comment.button.showReplies", true),{commentCount:D.length})})]})}),(0,p.jsx)(es,{aggregatedPinDataId:w,closeupAttributionId:L,closeupAttributionUsername:I,comments:(()=>{if(0===K||0===D.length)return[];if(1===K)if(B)return D.slice(-1);else return D.slice(0,1);return D.slice(0,K)})(),commentsDisabled:!1,featuredCommentId:t,gapSize:d?2:6,inCommentsImprovedDropdownExp:s,inCommentsPopover:r,isDesktop:d,isLoading:c,isORBACProfileManager:v,isReadOnly:u,isVideo:f,openOverflowMenu:m,parentId:i,parentType:o,pinId:k,pinnerId:j,reactionListCommentId:P,replyingToCommentId:g,showReactionListForComment:T,storyPinDataId:b,toggleEditComposer:h,toggleHelpful:_,toggleLike:y,toggleReplyComposer:x,userAvatarSize:"sm",viewParameter:C})]})}var H=i(980787),K=i(657043),N=i(475498),B=i(670622),V=i(2420),U=i(15667),W=i(536652),G=i(87853),$=i(542092),q=i(636921),J=i(502066),Q=i(449613),Y=i(611134),X=i(401450),ee=i(78762);let et=(0,l.lazy)(()=>i.e("16592").then(i.bind(i,357966))),ei=(0,ee.Z)(()=>i.e("73842").then(i.bind(i,434780)),void 0,e=>434780,"app-packages-comment-CommentOverflowPopover",e=>["73842"]),en=(0,l.lazy)(()=>i.e("84046").then(i.bind(i,257233)));function el(e){let t,i,{aggregatedPinDataId:m,closeupAttributionId:g,closeupAttributionUsername:h,comment:_,featuredCommentId:y,inCommentsImprovedDropdownExp:v,inCommentsPopover:k,isDesktop:L,isReadOnly:j,isVideo:P,openOverflowMenu:E,toggleReplyComposer:O,parentId:ee,parentType:el=$.o.pin,pinId:ea,storyPinDataId:eo,replyingToCommentId:es,showReactionListForComment:er,showTopCommentHeading:ed,toggleEditComposer:ec,toggleHelpful:eu,toggleLike:em,userAvatarSize:eg,isORBACProfileManager:eh,pinnerId:ep,reactionListCommentId:e_,viewParameter:ey}=e,{user:{id:ex,first_name:ev,id:ef,image_medium_url:eb,username:ek},id:eL,is_translatable:eS,comment_count:ew,helpful_count:eI,tags:ej=[]}=_,[eP,eT]=(0,l.useState)(!1),eC=eP&&_.translatedText||_.text,eA=!eS||""===_.translatedText,eE=(0,q.Z)(),ez=!1,eD=0,eR=!1,eM=!!_.marked_helpful_by_me,eF=L?[_.user]:[],eO="",eZ=new Date;"aggregatedcomment"===_.type?(ez=_.highlighted_by_pin_owner,eD=_.reaction_counts[1],eR=_.reaction_by_me>0,i=_?.media?.sticker,eF.push(..._.tagged_users),eO=L?`${ek} ${eC??""}`:eC??"",eZ=new Date(_.created_at)):(eD=_.like_count,eR=_.liked_by_me,t=_.images[0]||{},eO=L?`${ek} ${_.details}`:_.details,eZ=new Date(_.done_at));let eH=t?.originals,eK=i||eH,eN=(0,S.Z)(),eB=(0,x.Z)(),{setIsMediaViewerOpen:eV,clientTrackingParams:eU,setIsCommentPopoverInteractionActive:eW}=(0,I.x4)(),{logContextEvent:eG}=(0,H.u)(),{isBot:e$}=(0,U.B)(),{showToast:eq}=(0,G.dI)(),eJ=(0,a.I0)(),eQ=(0,R.vs)(),eY=(0,l.useRef)(null),{hasApplicableLawForCountry:eX}=(0,Q.ZP)(),e0=!j||eX,e1="aggregatedcomment"===_.type&&1===_.comment_tag,e6=e1&&L,e2=(0,f.Z)(),e4=(0,b.lJ)(eB,e2),{nativeEngagementsHiddenForUser:e3}=(0,J.G)(),{aggregatedCommentsHiddenForUser:e7,translateAggregatedComment:e5,updateAggregatedComment:e9}=(0,F.nf)(),e8=(0,r.Z)(),te="userdiditdata"===_.type,tt=(0,B.Z)(),ti=eS&&!1,tn=(0,u.zs)(ek,ej,eQ,!L),tl={SHOW_TRANSLATION:eN.bt("Mostrar traduÃ§Ã£o", "Show translation", "comment.translateButton.showTranslation", undefined, true),TRANSLATING:eN.bt("Traduzindo...", "Translating...", "comment.translateButton.translating", undefined, true),SHOW_ORIGINAL:eN.bt("Mostrar original", "Show original", "comment.translateButton.showOriginal", undefined, true)},ta=(0,l.useRef)(tl.SHOW_TRANSLATION),[to,ts]=(0,s.Z)(),[tr,td]=(0,l.useState)(!1),[tc,tu]=(0,l.useState)(!1),[tm,tg]=(0,l.useState)(!1),[th,tp]=(0,l.useState)(!1),[t_,ty]=(0,l.useState)(!1),[tx,tv]=(0,l.useState)(!1),[tf,tb]=(0,l.useState)(!1),[tk,tL]=(0,l.useState)(u.A9.NONE),tS=e=>()=>{ec?ec(_):tu(e)};(0,l.useEffect)(()=>{ti&&eG({event_type:10416,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697})},[eG,el,ti,ey]),(0,l.useEffect)(()=>{ew>0&&!e$&&eJ((0,W.U)("aggregatedcomment"===_.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:eL,redux_normalize_feed:!0}}))},[_.type,eL]);let tw=el.toLowerCase()===$.o.aggregatedComment.toLowerCase()||el.toLowerCase()===$.n.didIt.toLowerCase(),tI=_.user.first_name||"",tj=async({contentMarkdown:e,force:t,tags:i})=>{let n,l;tp(!0);let a=_.id;if(tw&&(n=el.toLowerCase()===$.n.didIt,a=ee,l=_.id),a)try{await e8({force:t,fromUnifiedComment:!0,objectType:te||n?$.o.didIt:$.o.aggregatedComment,objectId:a,orbacSubjectId:e4,tags:i,text:e,replyToCommentId:l})}catch(t){let e=(0,K.Z)(t,"code");if([V.ky,V.LJ].includes(e??0)&&L)return tL(e===V.ky?u.A9.WARNING:u.A9.BLOCK),tp(!1),!1}return O&&O(void 0),tp(!1),!0},tP=async({contentMarkdown:e,force:t,tags:i})=>{tg(!0);try{te?await eJ((0,Y.IU)({id:_.id,details:e,pinId:ea??"",image_signatures:"image_signatures"in _&&_.image_signatures?_.image_signatures:[]})):await e9({commentId:_.id,force:t,orbacSubjectId:e4,tags:i,text:e})}catch(e){if([V.ky,V.LJ].includes((0,K.Z)(e,"code")??0)&&L)return tL(e.code===V.ky?u.A9.WARNING:u.A9.BLOCK),tg(!1),!1}return tu(!1),tg(!1),!0},tT=()=>{L?(eW(!tr),td(!tr)):E&&E(_)},tC=e=>()=>{eW(e),td(e),tb(e),e||eG({component:14349,event_type:9408})},tA=()=>{tL(u.A9.NONE)},tE=e=>{e?ts():to(),eV(!e),ty(!e)};(0,l.useEffect)(()=>{eP&&eA&&(eT(!eP),eq(({hideToast:e})=>(0,p.jsx)(N.Z,{onHide:e,text:eN.bt("Erro â€” nÃ£o foi possÃ­vel traduzir", "Error - couldn't translate", "comment.couldNotTranslate.toast", undefined, true),type:"error"})))},[eP,eA]),eP?ta.current=_.translatedText?tl.SHOW_ORIGINAL:tl.TRANSLATING:ta.current=tl.SHOW_TRANSLATION;let tz=L?128:110,tD="aggregatedcomment"===_.type&&_.media?.sticker?.image_url&&(0,p.jsx)(n.xu,{height:tz,marginBottom:+!!L,marginTop:1,width:tz,children:_.media?.sticker?.image_url&&(0,p.jsx)(n.Ee,{alt:_.media?.sticker?.display_name??"",fit:"contain",naturalHeight:0,naturalWidth:0,src:_.media.sticker.image_url})});return(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(n.xH,{accessibilityLabel:"Loading comment",show:tm}),!tc&&!tm&&(0,p.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(n.xu,{marginEnd:2,children:(0,p.jsx)(o.rU,{to:`/${ek}/`,children:(0,p.jsx)(c.Z,{isQuestion:e6,name:ev||ek||"",size:eg,src:eb??""})})}),(0,p.jsxs)(n.kC,{direction:"column",flex:"grow",justifyContent:"start",children:[(0,p.jsxs)(n.kC,{justifyContent:"between",children:[(0,p.jsx)(n.kC.Item,{minWidth:0,children:(0,p.jsxs)(n.kC,{dataTestId:"author-and-comment-container",direction:"column",children:[!L&&(0,p.jsxs)(n.kC,{alignItems:"center",gap:{row:1,column:0},children:[(0,p.jsx)(z.Z,{isFirstTaggedUserAuthor:!0,lineHeight:"14px",marginEnd:0,shouldShowFirstNameOnly:!0,size:"100",taggedUsers:[_.user],tags:(0,u.zs)(ek,[],eQ),text:ek}),e1&&!ed&&(0,p.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:"14px"}},children:(0,p.jsx)(n.xv,{color:"subtle",size:"100",children:eN.bt("fez uma pergunta ðŸ‘€", "asked a question ðŸ‘€", "comment.question.label", undefined, true)})}),ed&&(0,p.jsxs)(n.kC,{children:[(0,p.jsx)(n.xu,{alignItems:"center",display:"flex",marginEnd:1,children:(0,p.jsx)(n.JO,{accessibilityLabel:(0,u.yW)(eN),color:"recommendation",icon:"star",size:12})}),(0,p.jsx)(n.xv,{color:"recommendation",size:"100",weight:"bold",children:(0,u._q)(eN)})]}),(e1||ed)&&eZ&&(0,p.jsx)(n.xv,{color:"subtle",size:"100",children:"Â·"}),eZ&&(0,p.jsx)(n.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(n.xv,{color:"subtle",size:"100",children:tt(eZ,!0)})})]}),te?(0,p.jsx)(D,{comment:_,commentTags:tn,handlePhotoTap:()=>tE(t_),isDesktop:L,previewPhoto:eH,taggedUsers:eF}):(0,p.jsx)(z.Z,{isFirstTaggedUserAuthor:!!L,lineHeight:L?void 0:"21px",marginBottom:L?void 0:"4px",shouldShowFirstNameOnly:!0,taggedUsers:eF,tags:tn,text:eO}),tD,ti&&(0,p.jsx)(n.xu,{marginBottom:2,marginTop:2,children:(0,p.jsx)(n.iP,{onTap:()=>void(!eP&&!_.translatedText&&e5(_.id),eP||ta.current!==tl.SHOW_TRANSLATION?eP&&ta.current===tl.SHOW_ORIGINAL&&eG({event_type:10418,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697}):eG({event_type:10417,view_type:3,view_parameter:ey,component:"pin"===el?13696:13697}),eT(!eP)),children:(0,p.jsx)(n.xv,{color:"subtle",size:"300",weight:"bold",children:ta.current})})})]})}),y===eL&&(0,p.jsx)(n.xu,{alignSelf:"center",color:"primary",height:8,minWidth:8,rounding:"pill"})]}),ez&&(0,p.jsx)(n.xu,{marginBottom:L?3:1.5,marginTop:L?4:-.5,children:(0,p.jsx)(n.xv,{size:"100",children:(0,M.nk)(eN.bt("Destacado por @{{ closeupAttributionUsername }}", "Highlighted by @{{ closeupAttributionUsername }}", "comment.highlighted.label", undefined, true),{closeupAttributionUsername:h})})}),e0&&(0,p.jsx)(n.xu,{alignItems:"center",display:"flex",height:L?25:"100%",justifyContent:"between",position:"relative",children:(0,p.jsxs)(n.kC,{alignItems:"center",gap:{row:L?5:4,column:0},children:[!j&&L&&(0,p.jsx)(n.xu,{"data-test-id":"comments-time-passed",children:(0,p.jsx)(n.xv,{color:"subtle",size:"200",children:tt(eZ,!0)})}),!j&&(0,p.jsx)(n.xu,{"data-test-id":"comment-reply-button-container",children:(0,p.jsx)(n.iP,{onTap:()=>{O&&O(_,ee,el)},children:(0,p.jsx)(n.xv,{color:L?"subtle":"default",size:L?"200":"100",weight:"bold",children:eN.bt("Responder", "Reply", "comment.button.reply", undefined, true)})})}),!j&&(0,p.jsx)(T,{commentId:eL,dismissReactionList:()=>{er(void 0)},helpfulCount:eI,isDesktop:L,isLovedByMe:eR,isMarkedHelpfulByMe:eM,isReactionListOpen:e_===eL,isTry:te,lovedCount:eD,onReactionCountHover:()=>{er(eL),eG({event_type:9906,component:"pin"===el?13696:13697,view_type:3,view_parameter:ey})},onToggleHelpful:e=>()=>{eM!==e&&eu(eL,!e,te)()},onToggleLove:e=>()=>{eR!==e&&em(eL,!e,te)()}}),!("id"in eB&&eB.id===ef&&e1)&&(L?(0,p.jsx)(n.xu,{ref:eY,"data-test-id":"comment-more-options",children:(0,p.jsx)(n.hU,{accessibilityLabel:eN.bt("Mais", "More", "comment.button.more", undefined, true),icon:"ellipsis",iconColor:"gray",onClick:tT,size:"xs"})}):(0,p.jsx)(n.xu,{"data-test-id":"comment-more-options",children:(0,p.jsx)(n.iP,{onTap:tT,children:(0,p.jsx)(n.JO,{accessibilityLabel:eN.bt("Mais", "More", "comment.button.more", undefined, true),color:eQ?"light":"dark",icon:"ellipsis",size:12})})}))]})})]})]}),L&&(0,p.jsxs)(l.Fragment,{children:[tc&&!(k||v)&&(0,p.jsx)(n.xu,{marginTop:3,children:(0,p.jsx)(C.Z,{clientTrackingParams:eU,commentWarningModalState:tk,dismissCommentWarningModal:tA,initialTags:_.tags,initialText:"aggregatedcomment"===_.type?_.text:_.details,isEditing:!0,objectType:$.o.aggregatedComment,onAddItem:tP,onCancelItem:tS(!1),postedPhoto:eK,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})}),es===eL&&(0,p.jsx)(n.xu,{marginStart:12*!tw,marginTop:3,children:(0,p.jsx)(C.Z,{commentWarningModalState:tk,dismissCommentWarningModal:tA,initialTags:tw?[{offset:0,object_id:ex,length:tI.length,tag_type:1}]:[],initialText:tw?`${tI} `:"",isReplying:!0,objectType:$.o.aggregatedComment,onAddItem:tj,onCancelItem:()=>{O&&O()},showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:ey})})]}),(ew>0||th)&&(0,p.jsx)(n.xu,{marginStart:L?12:10,marginTop:L?4:3,children:(0,p.jsx)(Z,{aggregatedPinDataId:m,closeupAttributionId:g,closeupAttributionUsername:h,featuredCommentId:y,inCommentsImprovedDropdownExp:v,inCommentsPopover:k,isDesktop:L,isLoading:th,isORBACProfileManager:eh,isReadOnly:j,isVideo:P,openOverflowMenu:E,parentId:eL,parentType:_.type,pinId:ea,pinnerId:ep,reactionListCommentId:e_,replyingToCommentId:es,showReactionListForComment:er,storyPinDataId:eo,toggleEditComposer:ec,toggleHelpful:eu,toggleLike:em,toggleReplyComposer:O,viewParameter:ey})}),L&&e0&&(0,p.jsx)(ei,{aggregatedPinDataId:m,anchor:eY.current,closeupAttributionId:g,comment:_,dismiss:e=>{td(!1),e||(eW(!1),eG({component:14349,event_type:10128}))},inCommentsPopover:!!k,isOpen:tr,isReply:tw,onEdit:tS(!0),onShowBlockUserModal:tC(!0),parentId:ee,pinId:ea}),tx&&(0,p.jsx)(w.Z,{children:(0,p.jsx)(d.N,{children:(0,p.jsx)(en,{aggregatedPinDataId:m,didItDataId:eL,onClose:e=>()=>{tv(!e)},pinId:ea??"",username:ek,users:[_.user]})})}),tf&&(0,p.jsx)(w.Z,{children:(0,p.jsx)(et,{firstName:ev??"",onBlockUser:()=>{eJ((0,X.Ge)({id:ex,orbacSubjectId:e4,blockSource:"comment",blockContext:eL,logContextEvent:eG})),e7(ex),e3(ex),eG({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:eB.isAuth?eB.id:null}}),eG({component:14349,event_type:9407}),tb(!1),eE(),eW(!1)},onClearModal:tC(!1)})}),!!eH&&t_&&(0,p.jsx)(A.Z,{onDismiss:()=>tE(t_),photo:eH})]})}var ea=i(351607),eo=i(883379);function es(e){let t,i,{aggregatedPinDataId:l,comments:a,commentsDisabled:o,commentsScrollContainerRef:s,featuredCommentId:r,gapSize:d=6,id:c,inCommentsImprovedDropdownExp:u,inCommentsPopover:m,isDesktop:g,isLoading:h=!1,isReadOnly:_,openOverflowMenu:y,toggleReplyComposer:x,parentId:v,parentType:f,replyingToCommentId:b,showingCloseupCommentModule:k,toggleEditComposer:L,toggleHelpful:w,toggleLike:j,userAvatarSize:P,isORBACProfileManager:T,isVideo:C,storyPinDataId:A,pinId:E,closeupAttributionId:z,closeupAttributionUsername:D,pinnerId:R,showReactionListForComment:M,reactionListCommentId:F,viewParameter:O}=e,Z=(0,S.Z)(),{closeupWithinMasonryEnabled:H}=(0,I.x4)(),K=(0,eo.Z)({skipExpActivation:!0}),N=!!k&&!1;return(m?t="12px":H&&(t="8px"),i=A?"story":C?"video":"pin",o)?(0,p.jsx)(n.xu,{alignSelf:"center","data-test-id":"comments-disabled-label",marginTop:H?2:void 0,width:"100%",children:(0,p.jsx)(n.xv,{align:g?"start":"center",color:"subtle",children:Z.bt("ComentÃ¡rios desativados para esse Pin", "Comments are turned off for this Pin", "commentThread.disabledState.message", undefined, true)})}):a.length>0?(0,p.jsxs)(n.xu,{ref:s,dangerouslySetInlineStyle:{__style:{gap:`${4*d}px 0`,overscrollBehavior:m?"none":"auto",scrollbarGutter:H?"stable":void 0,paddingTop:t,overflowX:K?"scroll":void 0}},"data-test-id":"aggregated-comment-list",direction:"column",display:"flex",id:c,maxHeight:H&&!m?722:"100%",overflow:H?"auto":void 0,width:"100%",children:[a.map((e,t)=>(0,p.jsx)(ea.Fw,{componentType:"pin"===f?13696:13697,impressionAuxFields:{commentId:e.id,pinId:E,pinOwnerUserId:z,pinType:i,parentId:v,parentType:f,commentType:"aggregatedComment"},impressionType:"Comment",loggingId:e.id,slotIndex:t,viewType:g?3:98,children:({impressionTrackerRef:i})=>{let o=t===a.length-1;return(0,p.jsx)(n.xu,{ref:i,dangerouslySetInlineStyle:{__style:{paddingBottom:m&&o?"24px":"0px"}},"data-test-id":"commentThread-comment",tabIndex:0,children:(0,p.jsx)(el,{aggregatedPinDataId:l,closeupAttributionId:z,closeupAttributionUsername:D,comment:e,featuredCommentId:r,inCommentsImprovedDropdownExp:u,inCommentsPopover:m,isDesktop:g,isORBACProfileManager:T,isReadOnly:_,isVideo:C,openOverflowMenu:y,parentId:v,parentType:f,pinId:E,pinnerId:R,reactionListCommentId:F,replyingToCommentId:b,showReactionListForComment:M,showTopCommentHeading:N&&0===t,storyPinDataId:A,toggleEditComposer:L,toggleHelpful:w,toggleLike:j,toggleReplyComposer:x,userAvatarSize:P,viewParameter:O})})}},e.id)),h&&(0,p.jsx)(n.xH,{accessibilityLabel:Z.bt("Carregando comentÃ¡rios", "Comments loading", " - ", undefined, true),show:h})]}):(0,p.jsx)(n.xu,{alignSelf:"center",width:"100%",children:(0,p.jsx)(n.xH,{accessibilityLabel:Z.bt("Carregando comentÃ¡rios", "Comments loading", " - ", undefined, true),show:h})})}},624895:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),l=i(782259),a=i(785893);let o=(0,n.lazy)(()=>Promise.all([i.e("8907"),i.e("66979")]).then(i.bind(i,656379)));function s(e){return(0,a.jsx)(l.Z,{fallback:null,children:(0,a.jsx)(o,{...e})})}},54424:function(e,t,i){i.d(t,{Z:()=>r});var n=i(20256),l=i(762802),a=i(678213),o=i(19585),s=i(785893);function r({onDismiss:e,photo:t}){let i=(0,o.Z)(),{height:r,url:d,width:c}=t,u=Math.min(r??936,936),m="100vh",g=i.bt("Fechar visualizador de mÃ­dia", "Close media viewer", "comments.photo.mediaViewer.close", undefined, true);return(0,s.jsxs)(n.mh,{zIndex:a.b7,children:[(0,s.jsx)(n.iP,{mouseCursor:"zoomOut",onTap:e,children:(0,s.jsxs)(n.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.8)"}},"data-test-id":"comment-media-viewer",display:"flex",height:m,justifyContent:"center",left:!0,position:"fixed",right:!0,top:!0,width:"100%",children:[(0,s.jsx)(n.xu,{left:!0,padding:5,position:"absolute",top:!0,children:(0,s.jsx)(n.hU,{accessibilityLabel:g,icon:"cancel",iconColor:"white",onClick:e,padding:3,size:"lg"})}),(0,s.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{margin:"0 84px"}},height:m,maxHeight:u,width:c,children:d&&(0,s.jsx)(n.Ee,{alt:d??"",fit:"contain",naturalHeight:r??1,naturalWidth:c??1,src:d},d)})]})}),(0,s.jsx)(l.Z,{onClose:e})]})}},545961:function(e,t,i){i.d(t,{Vb:()=>h,ZP:()=>_,mu:()=>p});var n=i(667294),l=i(20256),a=i(767439),o=i(296691),s=i(436873),r=i(54424),d=i(19585),c=i(15667),u=i(647709),m=i(601686),g=i(785893);let h=150,p=346;function _({canEnlargePhoto:e,containerWidth:t,isSelectedPhoto:i,previewPhoto:_,removeSelectedPhoto:y}){let x=(0,d.Z)(),v=(0,u.HG)(),{isRTL:f}=(0,c.B)(),{setIsMediaViewerOpen:b}=(0,m.x4)(),[k,L]=(0,a.Z)(),[S,w]=(0,n.useState)(!1),[I,j]=(0,n.useState)(!1),[P,T]=(0,n.useState)(null),[C,A]=(0,n.useState)(o.WU),E=(0,s.Z)(_)?_?.url:_?.image_url;(0,n.useEffect)(()=>{(async()=>{E&&!(0,s.Z)(_)&&T(await new Promise((e,t)=>{let i=new Image;i.onload=()=>{e({width:i.width,height:i.height})},i.onerror=t,i.src=E}))})()},[E,_]);let z=(0,s.Z)(_)?_?.width:P?.width,D=(0,s.Z)(_)?_?.height:P?.height,R=z??0,M=D??0,F=E??"",O=Math.min((t||(v?p:312))/R,(v?h:110)/M,1),Z=x.bt("Remover foto", "Remove photo", "photoCommentPreview.removePhoto", undefined, true),H=x.bt("Foto", "Photo", "photoCommentPreview.previewPhoto", undefined, true),K=e=>{e?L():k(),b(!e),w(!e)};return(0,g.jsxs)(l.xu,{height:O*M,marginTop:3*!!i,position:"relative",width:O*R,children:[(0,g.jsx)(l.iP,{disabled:!e,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onTap:()=>K(S),children:(0,g.jsx)(l.zd,{rounding:2,children:F&&(0,g.jsx)(l.Ee,{alt:H,color:C,naturalHeight:M,naturalWidth:R,onLoad:()=>{A(o.o),i&&URL.revokeObjectURL(F)},src:F,children:e&&(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{cursor:"zoom-in",backgroundColor:`rgba(17, 17, 17, ${.4*!!I})`}},height:"100%",width:"100%"})},H)})}),i&&(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:24,justifyContent:"center",left:f,marginEnd:-3,marginTop:-3,position:"absolute",right:!f,top:!0,width:24,children:(0,g.jsx)(l.hU,{accessibilityLabel:Z,bgColor:"lightGray",icon:"cancel",onClick:y,size:"xs"})}),S&&(0,g.jsx)(r.Z,{onDismiss:()=>K(S),photo:_})]})}},162321:function(e,t,i){i.d(t,{Z:()=>o});var n=i(667294),l=i(20256),a=i(785893);let o=({inCommentFeedPreview:e,isFirstTaggedUserAuthor:t,lineHeight:i,marginBottom:o,marginEnd:s,shouldShowFirstNameOnly:r,size:d,tags:c,taggedUsers:u,text:m})=>{let g=(0,n.useRef)(null),h=(e,t)=>(0,a.jsx)(l.xv,{inline:!0,overflow:"normal",size:d,children:(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i,overflowWrap:"anywhere",display:"inline"}},"data-test-id":"text-container",children:e})},t);return(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap",wordWrap:"break-word",marginBottom:o}},children:(()=>{if(!c.length||!u||c.length!==u.length)return h(m,"1");let n=0,o=[];return c.forEach((i,s)=>{let c=m.substring(n,i.offset);n=i.offset+i.length;let g=m.substring(i.offset,n);o=o.concat(h(c,`${s}a`)).concat(((i,n,o,s)=>{let c=r||0===o&&t?u[o].first_name||u[o].username[0]:n;return(0,a.jsx)(l.xv,{color:i,inline:!0,overflow:"normal",size:d,weight:"bold",children:e?c:(0,a.jsx)(l.rU,{display:"inlineBlock",href:`/${u[o].username}`,underline:"hover",children:c})},s)})(i.color,g,s,`${s}b`))}),o=o.concat(h(m.substring(n),"2")),(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:i}},display:r?"flex":void 0,marginEnd:s??3,position:"relative",children:(0,a.jsx)(l.xv,{ref:g,inline:!0,lineClamp:e?1:void 0,size:d,children:o})})})()})}},296691:function(e,t,i){i.d(t,{A9:()=>p,F1:()=>S,Ff:()=>L,G5:()=>w,G_:()=>k,Gu:()=>b,LH:()=>s,Rv:()=>u,TJ:()=>g,Ty:()=>a,WU:()=>y,XU:()=>c,_q:()=>T,i$:()=>x,iB:()=>o,je:()=>r,mi:()=>I,o:()=>_,pW:()=>h,qJ:()=>C,sp:()=>j,uC:()=>d,xA:()=>m,yQ:()=>P,yW:()=>f,zs:()=>v});var n=i(20256),l=i(473728);let a=new n.Ry(3),o=48,s=56,r="sm",d=500,c=1,u=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),m=Object.freeze({PHOTO:0,STICKER:1,PIN:2}),g="comment_featured_ids",h="did_it_featured_ids",p={NONE:"none",WARNING:"warning",BLOCK:"block"},_="transparent",y="#efefef",x=(e,t)=>e?(0,l.Z)(t.nbt(["{{ count }} comentÃ¡rio", "{{ count }} comentÃ¡rios"], e, "closeup.commentThread.heading.commentCount", true),{count:e.toString()}):t.bt("Ainda nÃ£o hÃ¡ nenhum comentÃ¡rio", "No comments yet", "closeup.commentThread.heading.noComments", undefined, true),v=(e,t,i,n)=>{let l=t.map(t=>({...t,offset:(t.offset||0)+(n?0:e.length+1),color:"shopping"}));return n?l:[{offset:0,length:e.length,color:i?"light":"dark"},...l]},f=e=>e.bt("Ãcone de tÃ­tulo da informaÃ§Ã£o", "Insight heading icon", "closeupCommentModuleHeading.icon", undefined, true),b=e=>e.bt("Ainda nÃ£o hÃ¡ nenhum comentÃ¡rio", "No comments yet", "emptyCommentThread.noComments.heading", undefined, true),k=e=>e.bt("Publicar", "Post", "commentComposer.button.post", undefined, true),L=e=>e.bt("publicou uma foto", "posted a photo", "comment.preview.text.photo", undefined, true),S=e=>e.bt("publicou um adesivo", "posted a sticker", "comment.preview.text.sticker", undefined, true),w=e=>e.bt("Selecione um emoji", "Select an emoji", "emojitray.button.accessibilityLabel", undefined, true),I=e=>e.bt("Selecione uma foto", "Select a photo", "photoModal.button.accessibilityLabel", undefined, true),j=e=>e.bt("Selecione um adesivo", "Select a sticker", "stickerTray.button.accessibilityLabel", undefined, true),P=e=>e.bt("Editor de texto", "Text editor", "EditorWithMentions.container", undefined, true),T=e=>e.bt("Principal comentÃ¡rio", "Top Comment", "closeupCommentModuleHeading.heading.topComment", undefined, true),C=e=>[w(e),I(e),k(e),j(e),P(e)]},436873:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>e?.url!==void 0},607652:function(e,t,i){i.d(t,{Z:()=>d});var n,l=i(667294);i(167912);var a=i(415546),o=i(906498);let s=(void 0!==n||(n=i(673588)).hash&&"64a50a10a8f854ca82309453d98f41a7"!==n.hash&&console.error("The definition of 'useGetMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function r(e,t){return e&&t?`${e} ${t}w`:null}function d({pinKey:e}){let t=(0,a.Z)(s,e),{anyEnabled:i,group:n}=(0,o.Z)(),d=(0,l.useMemo)(()=>t?.imageSpec_736x||t?.imageSpec_564x||t?.imageSpec_orig||t?.imageSpec_474x||t?.imageSpec_236x,[t]),c=(0,l.useMemo)(()=>{if(!t)return;let e=[r(t.imageSpec_736x?.url,t.imageSpec_736x?.width),r(t.imageSpec_1200x?.url,t.imageSpec_1200x?.width),{enabled:null,enabled_564x:r(t.imageSpec_564x?.url,t.imageSpec_564x?.width),enabled_orig:r(t.imageSpec_orig?.url,t.imageSpec_orig?.width)}[n]].filter(Boolean);return e.length>1?e.join(", "):void 0},[t,n]),u=i?"100cqw":void 0;return(0,l.useMemo)(()=>({mainPinImage:{url:d?.url||"",height:d?.height||1,width:d?.width||1},srcSet:c,srcSizes:u}),[d,c,u])}},906498:function(e,t,i){i.d(t,{Z:()=>o});var n=i(274320),l=i(15667),a=i(647709);let o=({skipExpActivation:e=!1}={})=>{let{checkExperiment:t}=(0,n.r)(),i=(0,a.HG)(),{isAuthenticated:o}=(0,l.B)();return o&&i?t("closeup_dweb_adaptive_images",{dangerouslySkipActivation:e}):{anyEnabled:!1,group:""}}},636921:function(e,t,i){i.d(t,{Z:()=>r});var n=i(20256),l=i(475498),a=i(19585),o=i(87853),s=i(785893);function r(){let{showToast:e}=(0,o.dI)(),t=(0,a.Z)();return()=>{e(({hideToast:e})=>(0,s.jsx)(l.Z,{duration:5e3,onHide:e,text:t.bt("Bloqueado. Para gerenciar sua lista de bloqueios, consulte as permissÃµes para atividades sociais nas configuraÃ§Ãµes.", "Blocked. To manage your block list, see social permissions in settings.", "blockedAccounts.blockConfirmMessage", undefined, true),thumbnail:{icon:(0,s.jsx)(n.JO,{accessibilityLabel:t.bt("Ãcone de sucesso", "Success icon", "blockedAccounts.blockConfirmMessage.icon", undefined, true),color:"default",icon:"check-circle-fill",size:12})}}))}}},502066:function(e,t,i){i.d(t,{G:()=>m,Kl:()=>g,vo:()=>u});var n=i(667294),l=i(729434),a=i(791948),o=i(914071),s=i(785893);let r=()=>i.e("83726").then(i.bind(i,3571)),{Provider:d,get:c}=(0,l.Z)("NativeEngagements");function u({children:e}){let[t,i]=(0,o.Z)(r,[]);(0,a.Z8)("NativeInteractionsResource",e=>{i({type:"FETCH_COMPLETE",payload:e})}),(0,a.my)("NativeInteractionsResource",e=>{i({type:"FETCH_MORE_COMPLETE",payload:e})});let l=(0,n.useMemo)(()=>({dispatch:i,nativeEngagements:t}),[i,t]);return(0,s.jsx)(d,{value:l,children:e})}function m(){let{dispatch:e}=c();return(0,n.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function g(){let{nativeEngagements:e}=c();return e}},790427:function(e,t,i){i.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>l,fS:()=>r,lI:()=>a,mS:()=>s,qW:()=>o});var n=i(20256);let l=new n.Ry(1),a=new n.Ry(3),o=2,s=new n.Ry(o),r=3,d=new n.Ry(100),c=new n.H3([d])},883379:function(e,t,i){i.d(t,{Z:()=>o});var n=i(274320),l=i(15667),a=i(647709);let o=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,n.r)(),i=(0,a.HG)(),{isBot:o,isAuthenticated:s}=(0,l.B)();return!s&&!!i&&i&&!o&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},934603:function(e,t,i){i.d(t,{B:()=>L,Z:()=>w});var n,l=i(667294),a=i(581722);i(167912);var o=i(616550),s=i(20256),r=i(315787),d=i(821342),c=i(415546),u=i(886981),m=i(647709),g=i(341742),h=i(448505),p=i(7872),_=i(105433),y=i(542092),x=i(716751),v=i(611134),f=i(32082),b=i(793698),k=i(785893);let L=({aggregatedPinDataId:e,featuredCommentIds:t,featuredDidItIds:i,isDesktop:n,isReversed:l=!1,noCache:a=!1,orbacSubjectId:o=""})=>({name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:t,did_it_featured_ids:i,page_size:n?10:25,redux_normalize_feed:!0,is_reversed:l,...o?{orbac_subject_id:o}:{}},noCache:a}),S=(void 0!==n||(n=i(316387)).hash&&"38e173ab2c3107ebc5b3da9f216fac98"!==n.hash&&console.error("The definition of 'CommentThreadContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=({isReadOnly:e,pinKey:t,scrollContainer:i,showingCloseupCommentModule:n,viewParameter:w,toggleComposerForReply:I,openMwebOverflowMenu:j})=>{let{comment_id:P}=(0,o.UO)(),T=(0,a.I0)(),C=(0,m.HG)(),A=(0,d.Z)(),E=(0,c.Z)(S,t),z=(E?.aggregatedPinData?.commentCount||0)+(E?.aggregatedPinData?.didItData?.imagesCount||0),D=E?.aggregatedPinData?.entityId,R=E?.closeupAttribution?.entityId,M=E?.closeupAttribution?.username,F=E?.commentsDisabled,O=z>0&&!E?.commentsDisabled,Z=!!E?.videos?.videoList,H=E?.entityId,K=E?.pinner?.entityId,N=E?.storyPinData?.entityId,B=(0,l.useRef)(O),V=(0,h.Z)(),U=(0,p.lJ)(A,V),W=(0,u.Z)(B.current&&D?L({aggregatedPinDataId:D,featuredCommentIds:P?[P]:[],isDesktop:C}):null),{removeUnauthCommentPinId:G,unauthCommentPinId:$}=(0,x.o)(),q=(0,_.lV)(),{toggleAggregatedCommentHelpful:J,toggleAggregatedCommentLike:Q}=(0,_.nf)(),Y=(0,b.dM)(),X=(0,a.v9)(e=>(0,f.Z)(e,{aggregatedPinDataId:D,aggregatedComments:q,users:Y})),[ee,et]=(0,l.useState)(void 0);(0,g.Z)(()=>{!C&&A.isAuth&&$&&H&&$===H&&G()}),(0,l.useEffect)(()=>{let e=()=>{let t=!!i&&i.scrollTop+i.clientHeight+10>=i.scrollHeight;W&&!W.isFetching&&(W.isAtEnd?i?.removeEventListener("scroll",e):t&&W.fetchMore())};return i?.addEventListener("scroll",e),()=>{i?.removeEventListener("scroll",e)}},[W,i]);let ei=2*(!C&&!F);return(0,k.jsx)(l.Fragment,{children:(0,k.jsx)(s.xu,{display:"flex",height:C||F||0!==X.length?void 0:"100%",marginTop:C?6:ei,width:"100%",children:(0,k.jsx)(r.Z,{aggregatedPinDataId:D,closeupAttributionId:R,closeupAttributionUsername:M,comments:X,commentsDisabled:F,isDesktop:C,isReadOnly:e,isVideo:Z,openOverflowMenu:j,parentId:D??"",parentType:y.o.pin,pinId:H,pinnerId:K,reactionListCommentId:ee,showingCloseupCommentModule:n,showReactionListForComment:et,storyPinDataId:N,toggleHelpful:(e,t,i)=>()=>{i?T((0,v.YH)({didItDataId:e,isMarkedHelpfulByMe:t,orbacSubjectId:U})):J({aggregatedCommentId:e,isMarkedHelpfulByMe:t,orbacSubjectId:U})},toggleLike:(e,t,i)=>()=>{i?T((0,v.wH)({didItDataId:e,isLikedByMe:t,orbacSubjectId:U})):Q({aggregatedCommentId:e,isLikedByMe:t,orbacSubjectId:U})},toggleReplyComposer:I,userAvatarSize:"sm",viewParameter:w})})})}},716751:function(e,t,i){i.d(t,{o:()=>s,p:()=>r});var n=i(667294),l=i(729434),a=i(785893);let{Provider:o,get:s}=(0,l.Z)("Session");function r({children:e}){let[t,i]=(0,n.useState)(void 0),l=(0,n.useCallback)(()=>i(void 0),[]),s=(0,n.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:i,removeUnauthCommentPinId:l}),[t,l]);return(0,a.jsx)(o,{value:s,children:e})}},32082:function(e,t,i){i.d(t,{Z:()=>o});var n=i(442279),l=i(696323);let a={},o=(0,n.createSelector)((e,{aggregatedComments:t})=>t,({feeds:e},{aggregatedPinDataId:t})=>e[`${l.Z.UNIFIED_COMMENTS}:${t||""}`],({didItData:e})=>e,(e,{users:t})=>t??a,(e,t,i,n)=>{let l=new Set;return t?.map(({id:t,type:o})=>{if(l.has(t))return;l.add(t);let s="aggregatedcomment"===o.toLowerCase()?e[t]:i[t];if(!s)return;let r="user"in s&&("string"==typeof s.user?n[s.user]??a:s.user??a);return{...s,user:r??a}}).filter(e=>void 0!==e)||[]})},333651:function(e){e.exports="https://s.pinimg.com/webapp/commentHelpful-3a82ab53.svg"},773655:function(e){e.exports="https://s.pinimg.com/webapp/commentLoved-eef3c5ff.svg"}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78946.pt_BR-4f3175d81f6ecff7.mjs.map