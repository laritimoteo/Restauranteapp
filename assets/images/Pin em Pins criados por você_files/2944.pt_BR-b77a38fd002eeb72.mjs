(self.modernJsonp=self.modernJsonp||[]).push([["2944"],{608747:function(e,a,l){var t,r;l.r(a),l.d(a,{default:()=>o});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:r},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};n.hash="7005ce437a6a6ff33741ab44aa02cf61";let o=n},479699:function(e,a,l){var t,r;l.r(a),l.d(a,{default:()=>o});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:r},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};n.hash="40ae8061007ba5f53a4570e43e4ca864";let o=n},296485:function(e,a,l){var t,r,n,o;l.r(a),l.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"ban"},r={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,n,t],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:o},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487";let s=i},579965:function(e,a,l){var t,r,n,o,i,s,d,c;l.r(a),l.d(a,{default:()=>h});let u={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let h=u},336997:function(e,a,l){var t,r,n,o,i,s,d,c,u,h;l.r(a),l.d(a,{default:()=>m});let _=(t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},h=[o,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});_.hash="9aa22a7713214239538142ad2c957cc3";let m=_},868455:function(e,a,l){var t,r;l.r(a),l.d(a,{default:()=>o});let n={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"collab_emails_Mutation",selections:r},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};n.hash="de392a939a95d05f7ee889fe77a9e52d";let o=n},800679:function(e,a,l){var t,r,n,o;l.r(a),l.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},n={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:o=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,n],kind:"Operation",name:"collab_users_Mutation",selections:o},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf";let s=i},10594:function(e,a,l){l.d(a,{Z:()=>t});let t=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},10423:function(e,a,l){l.d(a,{Z:()=>n});let t=function(e,a){this.uid=e,this.item=a,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,a){let l=this._uidToData[e];l||(l=new t(e,a),this._uidToData[e]=l,this._numItems+=1),this._moveToFront(l),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let a=this._uidToData[e];return a?(this._moveToFront(a),a.item):null},r.prototype.remove=function(e){let a=this._uidToData[e];a&&(delete this._uidToData[e],this._firstData===a&&(this._firstData=a.next),this._lastData===a&&(this._lastData=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let n=r},10972:function(e,a,l){l.d(a,{Z:()=>n});var t=l(667294),r=l(490193);function n({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:l,resourceName:n,resourceOptions:o,value:i}){let s=(0,r.Z)({allowSearchOnMount:e,resourceName:n,resourceOptions:o,value:i});return(0,t.useEffect)(()=>{s?.length&&l(s)},[s]),a||null}},490193:function(e,a,l){l.d(a,{Z:()=>o});var t=l(667294),r=l(10423),n=l(791948);function o({allowSearchOnMount:e=!1,resourceName:a,resourceOptions:l={},value:o}){let i=(0,t.useRef)(!1),s=(0,t.useRef)({}),[d,c]=(0,t.useState)([]),u=function({resourceName:e,resourceOptions:a}){let l=(0,n.vL)(),o=(0,t.useRef)(void 0);return o.current||(o.current=function({resourceCreator:e,resourceName:a,resourceOptions:l}){let t=e(a,{...l,count:"count"in l?l.count:5}),n=new r.Z,o=()=>{t.abort()},i=async(e,a)=>{if(t.isCalling()){let l=t.options?.term,r=t.options?.pin_scope;if(e===l&&a===r)return;o()}let{bookmarks:l,...r}=t.options||{};t.options={...r,term:e,pin_scope:a};let{data:i}=(await t.callGet({showError:!1})).resource_response,s=i?.items,d=i?.hint||{};return n.set(`${a}-${e}`,{hint:d,items:s}),{term:e,items:s,hint:d}};return async function(e,a){let l=n.get(`${a}-${e}`);if(l){let{items:a}=l;if(a&&a.length){o();let{hint:t}=l;return{hint:t,items:a,term:e}}}return e.length>=0?i(e,a):{hint:{},items:[],term:e}}}({resourceCreator:l,resourceName:e,resourceOptions:a})),o.current}({resourceName:a,resourceOptions:l}),h=l.pin_scope||"pins",_=`${h}-${o}`;return(0,t.useEffect)(()=>{(async()=>{if(null!=o&&""!==o&&(e||i.current))if(_ in s.current)c(s.current[_]);else try{let e=await u(o,h);if(e){let{items:a}=e;s.current[_]=a,c(a)}}catch(e){if("Resource call aborted"===e)return;throw e}i.current||(i.current=!0)})()},[o,h,_]),d}},968842:function(e,a,l){l.d(a,{Z:()=>n});var t=l(647709),r=l(183152);function n(){return function({deviceType:e,site:a}){switch(a){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,t.ZP)(),site:(0,r.uo)()})}},277454:function(e,a,l){l.d(a,{Z:()=>r});let t=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>t.test(e)},742723:function(e,a,l){l.d(a,{Z:()=>c,l:()=>d});var t=l(667294),r=l(10594),n=l(15667),o=l(968842),i=l(821651),s=l(448505);let d=(0,t.createContext)(void 0),c=function(){let{advertiser:e}=(0,n.B)(),a=function(){let{isSterlingSite:e}=(0,r.Z)((0,o.Z)());return(0,t.useContext)(d)??e}(),l=(0,s.Z)(),c=((0,i.W)()?.profiles||[]).find(a=>a?.id===e?.owner_user_id);return a&&c||l}},947810:function(e,a,l){l.d(a,{Z:()=>o});var t=l(821342),r=l(448505),n=l(7872);let o=()=>{let e=(0,t.Z)(),a=(0,r.Z)();return(0,n.lJ)(e,a)}},789302:function(e,a,l){l.d(a,{Z:()=>f});var t=l(667294),r=l(581722),n=l(20256),o=l(918920),i=l(821342),s=l(19585),d=l(675973),c=l(742723),u=l(7872),h=l(931267),_=l(415602),m=l(890774),b=l(785893);function g(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}class p extends t.Component{constructor(...e){super(...e),g(this,"handleSubmit",e=>{let{advertiserId:a,boardCreateSource:l,createBoard:t,onBoardCreate:r,viewer:n,orbacActingAs:o,shouldShowAddCollaborators:i,handleInviteSelectedCollaborators:s}=this.props,d=(0,u.lJ)(n,o),{name:c,description:h,privacy:_,collab_board_email:m,collaborator_invites_enabled:b}=e;return t({boardCreateOptions:{name:c,description:h,privacy:_,collab_board_email:m,collaborator_invites_enabled:b,aux_data:{source:l},...a?{advertiser_id:a}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{i&&s(e.id),r(e)})}),g(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,u.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:a,i18n:l,onClose:t,privacy:r,useModalWithNoLayer:i,showSecretBoardCreateToggle:s,shouldShowAddCollaborators:d,setSelectedContacts:c,selectedContacts:_,shouldUseOverlayPanel:m,orbacActingAs:g,viewer:p}=this.props,f=(0,u.lJ)(p,g),v=l.bt("Criar pasta", "Create board", "BoardCreate.BoardCreate", undefined, true);return(0,b.jsx)(h.Z,{board:{...this.emptyBoardData,...{privacy:a?r:o.ZP.BoardPrivacy.PROTECTED}},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:a,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!f,onClose:t,onSubmit:this.handleSubmit,overlayPanelHeadingText:v,selectedContacts:_,setSelectedContacts:c,shouldShowAddCollaborators:d,shouldUseOverlayPanel:m,showSecretBoardCreateToggle:s,submitText:this.props.i18n.bt("Criar", "Create", " - ", undefined, true),title:(0,b.jsx)(n.xu,{paddingY:8,width:"100%",children:(0,b.jsx)(n.X6,{align:"center",size:"600",children:v})}),useModalWithNoLayer:i})}}function f(e){let a=(0,m.Z)(),l=(0,s.Z)(),{checkExperiment:n}=(0,d.Z)(),o=(0,i.Z)(),u=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),h=(0,c.Z)(),g=(0,r.v9)(({advertiser:e})=>!e||o.isAuth&&e.owner_user_id===o.id),f=(0,_.zC)(),v=(0,_.DK)(),[y,x]=(0,t.useState)([]);return(0,b.jsx)(p,{...e,advertiserId:u,createBoard:a,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let a=y.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),l=y.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);l.length>0&&v(e,l.map(e=>e.id)),a.length>0&&f(e,a.map(e=>e.id))},i18n:l,isAdAccountOwner:g,orbacActingAs:h,selectedContacts:y,setSelectedContacts:x,shouldUseOverlayPanel:n("web_board_create_overlay_panel").anyEnabled,viewer:o})}g(p,"defaultProps",{privacy:o.ZP.BoardPrivacy.PUBLIC})},931267:function(e,a,l){l.d(a,{Z:()=>Q});var t=l(667294),r=l(20256),n=l(918920),o=l(657043),i=l(982166),s=l(678213),d=l(19585),c=l(302148),u=l(675973),h=l(15667),_=l(782259),m=l(473728),b=l(87853),g=l(647709),p=l(640924),f=l(271597),v=l(744862),y=l(821342),x=l(886981),C=l(10972),k=l(277454),j=l(785893);function A({selectedContacts:e=[],setSelectedContacts:a}){let l=(0,d.Z)(),n=(0,y.Z)(),o=n.isAuth?n?.avatar_color_index:void 0,{data:i}=(0,x.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[s,c]=(0,t.useState)([]);(0,t.useEffect)(()=>{i&&c(i.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[i]);let[u,h]=(0,t.useState)(""),_=e.map(e=>e.id),m=[...e,(0,k.Z)(u)&&!_.includes(u)?{id:u,type:"email"}:null,...s.filter(e=>!_.includes(e.id))].filter(Boolean);return(0,j.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,j.jsx)(r.xu,{paddingY:2,children:(0,j.jsx)(r.xv,{size:"100",children:l.bt("Adicionar colaboradores", "Add collaborators", "text indicates that this section is for adding collaborators to a board", undefined, true)})}),(0,j.jsx)(r.xu,{marginBottom:4,marginTop:2,width:"100%",children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(C.Z,{onTypeaheadSuggestionsChange:e=>{c(e)},resourceName:"ShareSuggestionsTypeaheadResource",value:u,children:(0,j.jsx)(r.Um,{accessibilityLabel:l.bt("Pesquisar colaboradores por nome ou email", "Search for collaborators by name or email", "users can search for other people and add them as collaborators to a board", undefined, true),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{h(e)},placeholder:l.bt("Pesquisar por nome ou email", "Search by name or email", "text in search field to indicate that users could search for other users here", undefined, true),size:"lg",value:u})})})}),(0,j.jsx)(r.xu,{children:m.map(t=>(0,j.jsxs)(r.xu,{display:"flex",paddingY:2,children:[(0,j.jsxs)(r.kC,{flex:"grow",children:["email"===t.type||"email_share_suggestion"===t.type?(0,j.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,j.jsx)(r.JO,{accessibilityLabel:l.bt("Ícone de email", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:24})}):(0,j.jsx)(r.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,j.jsx)(v.qE,{color:o,name:t.full_name||"",size:"fit",src:t.image_medium_url||t.image_large_url})}),"email"===t.type||"email_share_suggestion"===t.type?(0,j.jsx)(r.kC,{alignItems:"center",children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(r.xv,{size:"300",children:t.id})})}):(0,j.jsxs)(r.kC,{direction:"column",justifyContent:"center",children:[(0,j.jsx)(r.xu,{marginBottom:1,tabIndex:0,children:(0,j.jsx)(r.xv,{lineClamp:1,size:"300",children:t.full_name})}),(0,j.jsx)(r.xu,{tabIndex:0,children:(0,j.jsx)(r.xv,{size:"200",children:`@${t.username||""}`})})]})]}),(0,j.jsx)(r.kC,{flex:"none",children:(0,j.jsx)(r.zx,{onClick:()=>{_.includes(t.id)?a?.((e||[]).filter(e=>e.id!==t.id)):a?.([...e,t])},selected:_.includes(t.id),size:"lg",text:_.includes(t.id)?l.bt("Adicionado", "Added", "Text that lets the user know they have added the contact", undefined, true):l.bt("Adicionar", "Add", "Text that lets the user know they can add that contact", undefined, true)})})]},t.id))})]})}var P=l(476482),F=l(509120);let E=({label:e,labelId:a})=>a?(0,j.jsx)(r.__,{htmlFor:a,children:(0,j.jsx)(r.xv,{size:"100",children:e})}):(0,j.jsx)(t.Fragment,{children:e});function B(e){let{children:a,label:l,labelId:n}=e;return(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(r.xu,{marginBottom:2,children:(0,j.jsx)(E,{label:l,labelId:n})}),a]})}function I({coverPin:e,handleShowBoardCoverEditModal:a}){let l=(0,d.Z)(),[n,o]=(0,t.useState)(!1),{isRTL:i}=(0,h.B)();return(0,j.jsx)(B,{label:(0,j.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,j.jsx)(r.xv,{inline:!0,size:"100",children:l.bt("Capa da pasta", "Board cover", "BoardForm.BoardFormCoverButton", undefined, true)})}),children:(0,j.jsx)(r.xu,{position:"relative",width:138,children:(0,j.jsx)(r.iP,{onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),onTap:a,rounding:4,children:e?.custom_cover?(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,j.jsx)(F.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:a,size:l}=e||{};if(Array.isArray(a)&&Array.isArray(l))return{x:a[0]||0,y:a[1]||0,width:l[0]||0,height:l[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,j.jsx)(r.xu,{bottom:!0,left:i,padding:2,position:"absolute",right:!i,children:(0,j.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,j.jsx)(r.JO,{accessibilityLabel:l.bt("Editar capa da pasta", "Edit board cover", "BoardForm.BoardFormBoardCoverButton", undefined, true),color:"default",icon:"edit",size:16})})})]}):(0,j.jsx)(r.xu,{alignItems:"center",color:n?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,j.jsx)(r.JO,{accessibilityLabel:l.bt("Adicionar foto da capa", "Add cover photo", "BoardForm.BoardFormCoverButton", undefined, true),color:"default",icon:"add",size:24})})})})})}function z({children:e,label:a,labelId:l,subtext:n}){return(0,j.jsx)(t.Fragment,{children:(0,j.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:10,children:[e,(0,j.jsxs)(r.xu,{marginStart:2,children:[(0,j.jsx)(r.__,{htmlFor:l,children:(0,j.jsx)(r.xv,{size:"300",weight:"bold",children:a})}),n]})]})})}function w({hasCollabBoardEmail:e,isCollaborative:a,onCheckboxChange:l}){let t=(0,d.Z)();return a&&(0,j.jsx)(z,{label:t.bt("Notificações por email", "Email notifications", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true),labelId:"emailNotificationsCheckbox",subtext:(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:t.bt("Receba um email quando alguém salvar Pins nesta pasta", "Get an email when someone saves Pins to this board", "BoardForm.BoardFormCollaboratorsEmailCheckbox", undefined, true)}),children:(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(r.xu,{marginEnd:1,children:(0,j.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:l})})})})}var S=l(734263),T=l(525839),D=l(812577);function L({board:e,onCollaboratorInviteClick:a}){let l=(0,T.ZP)(),t=(0,D.Z)({boardId:e.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""}),n=t.slice(0,3).map(e=>e.name),o="";switch(t.length){case 3:o=(0,c.Wc)(`${l.bt("{{ first }}, {{ second }} e {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${n[0]}`,second:`${n[1]}`,last:`${n[2]}`});break;case 2:o=(0,c.Wc)(`${l.bt("{{ first }} e {{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${n[0]}`,second:`${n[1]}`});break;default:o=n.join(", ")}let i=t.length>3?(0,c.Wc)(l.nbt(["Colaboradores: {{ userNames }} e mais {{ leftCount }}.", "Colaboradores: {{ userNames }} e mais {{ leftCount }}."], t.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true),{userNames:o,leftCount:`${t.length-3}`}):(0,c.Wc)(`${l.bt("Colaboradores: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:o});return(0,j.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,j.jsx)(r.HE,{accessibilityLabel:i,collaborators:t.map(({name:e,src:a,color:l})=>({src:a?.endsWith("/default_75.png")?void 0:a,name:e,color:l})),size:"md"}),(0,j.jsx)(r.hU,{accessibilityLabel:l.bt("Convidar colaboradores", "Invite collaborators", "BoardEdit.BoardCollaboratorsAndInviteSection", undefined, true),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:a,size:"lg"})]})}function K({board:e,onCollaboratorInviteClick:a}){let l=(0,d.Z)(),t=(0,j.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,j.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,j.jsx)(r.xv,{inline:!0,size:"100",children:l.bt("Colaboradores", "Collaborators", " - ", undefined, true)})}),(0,j.jsx)(S.Z,{}),(0,j.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,j.jsx)(r.rU,{accessibilityLabel:l.bt("Saiba mais sobre como criar e gerenciar pastas compartilhadas.", "Learn more about creating and managing group boards.", "BoardForm.BoardFormCollaboratorsInviteList", undefined, true),display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:l.bt("Saiba mais", "Learn more", " - ", undefined, true)})})]});return(0,j.jsx)(B,{label:t,children:(0,j.jsx)(L,{board:e,onCollaboratorInviteClick:a})})}function M({collaboratorInvitesEnabled:e,isCollaborative:a,onCheckboxChange:l}){let t=(0,d.Z)();return a&&(0,j.jsx)(z,{label:t.bt("Permitir que os colaboradores adicionem pessoas", "Let collaborators add people", "BoardForm.BoardFormCollaboratorsInviteToggle", undefined, true),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,j.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:l})})}function R({description:e,descriptionValidatorErrors:a,onChange:l}){let t=(0,d.Z)(),n="boardEditDescription";return(0,j.jsx)(B,{label:t.bt("Descrição", "Description", "BoardForm.BoardFormDescription", undefined, true),labelId:n,children:(0,j.jsx)(r.Kx,{errorMessage:a.join(", "),id:n,name:"description",onChange:l,placeholder:t.bt("Sobre o que é sua pasta?", "What's your board about?", " - ", undefined, true),value:e})})}let Z=({children:e})=>(0,j.jsx)(r.xu,{paddingX:8,role:"list",children:t.Children.map(e,(a,l)=>a&&(0,j.jsx)(r.xu,{marginBottom:l===t.Children.count(e)-1?1:8,role:"listitem",children:a},l))});function O({name:e,nameValidatorErrors:a,onChange:l,disabled:t}){let n=(0,d.Z)();return(0,j.jsx)(B,{label:n.bt("Nome", "Name", "BoardForm.BoardFormTitleInput", undefined, true),labelId:"boardEditName",children:(0,j.jsx)(r.nv,{disabled:t,errorMessage:a.join(", "),id:"boardEditName",name:"boardName",onChange:l,placeholder:n.bt("Por exemplo, \"Lugares\" ou \"Receitas\"", "Like \"Places to Go\" or \"Recipes to Make\"", " - ", undefined, true),size:"lg",value:e})})}let V=({board:e,collabBoardEmail:a,collaboratorInvitesEnabled:l,coverPin:t,currentUserIsOwner:n,description:o,descriptionValidatorErrors:i,handleBoardLeave:s,isCollaborative:c,showCoverEdit:u,name:h,nameValidatorErrors:_,handleShowBoardCoverEditModal:m,handleChangeName:b,handleChangeDescription:g,handleShowCollaboratorsModal:p,handleChangeCollabBoardEmail:f,handleChangeCollaboratorInvitesEnabled:v,shouldShowCollaboratorsInviteToggle:y})=>{let x=(0,d.Z)();return(0,j.jsxs)(Z,{children:[u&&(0,j.jsx)(I,{coverPin:t,handleShowBoardCoverEditModal:m}),(0,j.jsx)(O,{disabled:!0,name:h,nameValidatorErrors:_,onChange:b}),(0,j.jsx)(R,{description:o,descriptionValidatorErrors:i,onChange:g}),n&&!!s&&(0,j.jsx)(K,{board:e,onCollaboratorInviteClick:p}),c&&(0,j.jsx)(r.xu,{marginBottom:-7,children:(0,j.jsx)(r.xv,{size:"100",children:x.bt("Configurações", "Settings", "BoardForm.BoardForm", undefined, true)})}),(0,j.jsx)(w,{hasCollabBoardEmail:a,isCollaborative:c,onCheckboxChange:f}),y&&(0,j.jsx)(M,{collaboratorInvitesEnabled:l,isCollaborative:c,onCheckboxChange:v})]})};function N({isProtectedToggler:e,isToggleDisable:a,onChange:l,onCheckboxChange:o,privacy:i}){let s=(0,d.Z)();if(!0===e)return(0,j.jsx)(z,{label:s.bt("Pasta protegida (não listada no perfil do usuário)", "Protected board (not listed on user's profile)", "BoardForm.BoardFormSecretToggle", undefined, true),labelId:"protected",children:(0,j.jsx)(r.xu,{paddingY:2,children:(0,j.jsx)(r.rs,{disabled:a,id:"protected",onChange:l,switched:i===n.ZP.BoardPrivacy.PROTECTED})})});if(i!==n.ZP.BoardPrivacy.PROTECTED){let e=s.bt("Manter esta pasta secreta", "Keep this board secret", "BoardForm.BoardFormSecretToggle", undefined, true),l=(0,j.jsx)(t.Fragment,{children:(0,j.jsxs)(r.xv,{color:"subtle",inline:!0,size:"300",children:[s.bt("Apenas você e seus colaboradores poderão ver a pasta.", "So only you and collaborators can see it.", "BoardForm.BoardFormSecretToggle", undefined, true)," ",(0,j.jsx)(r.rU,{accessibilityLabel:s.bt("Saiba mais sobre as pastas secretas.", "Learn more about secret boards.", "BoardForm.BoardFormPrivacyToggle.Link", undefined, true),display:"inline",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",children:s.bt("Saiba mais", "Learn more", "BoardForm.BoardFormSecretToggle", undefined, true)})]})});return(0,j.jsx)(z,{label:e,labelId:"secret",subtext:l,children:(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,j.jsx)(r.XZ,{checked:i===n.ZP.BoardPrivacy.SECRET,disabled:a,id:"secret",name:"secret",onChange:o})})})}return null}function U({allowHomefeedRecommendations:e,onCheckboxChange:a}){let l=(0,d.Z)();return(0,j.jsx)(z,{label:l.bt("Personalização", "Personalization", "BoardForm.BoardFormRecommendationToggle", undefined, true),labelId:"recommendation",subtext:(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:l.bt("Mostre Pins inspirados nesta pasta no seu feed inicial.", "Show Pins inspired by this board in your home feed.", "BoardForm.BoardFormRecommendationToggle", undefined, true)}),children:(0,j.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:a})})}function $(e,a,l){var t;return(a="symbol"==typeof(t=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var t=l.call(e,a||"default");if("object"!=typeof t)return t;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?t:t+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let H=(0,t.lazy)(()=>Promise.all([l.e("25418"),l.e("23921")]).then(l.bind(l,284484))),q=(0,t.lazy)(()=>Promise.all([l.e("29670"),l.e("52626")]).then(l.bind(l,826654))),X=(e,a)=>(0,p.Gy)({max:e,maxErrorString:(0,m.Z)(a.bt("Digite no máximo {{ maxLength }} caracteres.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a string is too long", undefined, true),{maxLength:e})}),W=e=>[X(n.ZP.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],J=e=>[(0,p.aH)({message:e.bt("Não se esqueça de dar um nome à sua pasta!", "Don't forget to name your board!", " - ", undefined, true)}),X(n.ZP.MAX_CHARS_FOR_BOARD_TITLE,e)],G=({condition:e,children:a})=>e?(0,j.jsx)(r.xu,{position:"absolute",zIndex:s.b7,children:a}):a;class Y extends t.Component{constructor(e){super(e),$(this,"handleChangeName",({value:e})=>{let a=(0,p.FU)(J(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:a})}),$(this,"handleChangeDescription",({value:e})=>{let a=(0,p.FU)(W(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:a})}),$(this,"handleChangePrivacyToggle",({value:e})=>{let a="public";e&&(a=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==a&&this.setState({privacy:a})}),$(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),$(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),$(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),$(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),$(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),$(this,"handleCheckboxChange",e=>({event:a,checked:l})=>e({event:a,value:l})),$(this,"handleSubmit",e=>{let{onSubmit:a,shouldShowCollaboratorsInviteToggle:l}=this.props,{collab_board_email:t,collaboratorInvitesEnabled:r,description:n,name:i,privacy:s,allowHomefeedRecommendations:d}=this.state;if("preventDefault"in e&&e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let c=i.trim(),u=n.trim();this.setState({submitting:!0,submitError:""}),a(l?{name:c,collab_board_email:t,collaborator_invites_enabled:r,description:u,privacy:s,allow_homefeed_recommendations:d}:{name:c,collab_board_email:t,description:u,privacy:s,allow_homefeed_recommendations:d}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let a=this.props.i18n.bt("Ocorreu um erro.", "Uh oh! Something went wrong.", " - ", undefined, true),l=(0,o.Z)(e,"message");if(l){let t=(0,o.Z)(e,"message_detail");a=t?`${l} ${t}`:l}else"string"==typeof e&&(a=e);this.setState({submitting:!1,submitError:a})})}),$(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),$(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),$(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),$(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),$(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:a}=this.props;a&&a(e)});let{board:{collab_board_email:a,collaborator_invites_enabled:l,description:t,name:r,pin_count:n,privacy:i,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:a,description:t,name:r,pin_count:n,privacy:i,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:l,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:r,previousDescription:t,previousPrivacy:i}}static getDerivedStateFromProps(e,a){let l={};return e.board.name&&e.board.name!==a.previousName&&(l.previousName=e.board.name,l.nameValidatorErrors=(0,p.FU)(J(e.i18n),e.board.name)),e.board.description&&e.board.description!==a.previousDescription&&(l.previousDescription=e.board.description,l.descriptionValidatorErrors=(0,p.FU)(W(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==a.previousPrivacy&&(l.previousPrivacy=e.board.privacy),l}getFormFooter(){let{submitText:e}=this.props,{submitError:a}=this.state;return(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,j.jsx)(r.xu,{children:(0,j.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,j.jsx)(r.xu,{height:48,children:(0,j.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),a&&(0,j.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,j.jsx)(r.xv,{color:"error",children:a})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:a,nameValidatorErrors:l,submitting:t}=this.state;return!a||l.length>0||e.length>0||t}render(){let{board:e,board:{archived_by_me_at:a,cover_pin:l,id:n,is_collaborative:o},coverImageHeight:d,coverImageWidth:u,currentUserIsOwner:h,handleBoardLeave:m,isAdAccount:b,isAdAccountOwner:g,isDeletable:p,isDesktop:v,isEditable:y,isNameAndSecretView:x,onClose:C,onDeleteButtonClick:k,requestContext:F,title:E,useModalWithNoLayer:B,showSecretBoardCreateToggle:z,shouldShowAddCollaborators:S,shouldShowCollaboratorsInviteToggle:T,setSelectedContacts:D,selectedContacts:L,isProfilePublisher:$,shouldUseOverlayPanel:X}=this.props,{allowHomefeedRecommendations:W,collab_board_email:J,collaboratorInvitesEnabled:Y,description:Q,descriptionValidatorErrors:ee,name:ea,nameValidatorErrors:el,pin_count:et,privacy:er,showBoardCoverEdit:en,showCollaboratorsModal:eo,showSecretConfirmation:ei}=this.state,es=y&&et>0,ed=e.is_ads_only,ec=(0,j.jsxs)(Z,{children:[es&&(0,j.jsx)(I,{coverPin:l,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,j.jsx)(O,{disabled:ed,name:ea,nameValidatorErrors:el,onChange:this.handleChangeName}),(0,j.jsx)(R,{description:Q,descriptionValidatorErrors:ee,onChange:this.handleChangeDescription}),h&&!!m&&(0,j.jsx)(K,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,j.jsxs)(r.pg,{legend:this.props.i18n.bt("Configurações", "Settings", "BoardForm.BoardForm", undefined, true),children:[(0,j.jsx)(N,{isProtectedToggler:!!b,isToggleDisable:!!b&&!g&&!$,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:er}),!a&&(0,j.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,j.jsx)(w,{hasCollabBoardEmail:J,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),T&&(0,j.jsx)(M,{collaboratorInvitesEnabled:Y,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)})]}),p&&(0,j.jsxs)(r.xu,{marginTop:-15,paddingY:4,children:[(0,j.jsx)(r.X6,{accessibilityLevel:3,size:"100",children:(0,j.jsx)(r.xv,{inline:!0,size:"100",children:this.props.i18n.bt("Ação", "Action", "BoardForm.BoardForm.Action", undefined, true)})}),(0,j.jsxs)(r.iP,{onTap:k,children:[(0,j.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,j.jsx)(r.X6,{accessibilityLevel:4,size:"400",children:this.props.i18n.bt("Excluir pasta", "Delete board", "BoardForm.Delete", undefined, true)})}),(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("Você tem {{ MAX_AGE_RECENTLY_DELETED_BOARD }} dias para restaurar uma pasta excluída. Depois disso, ela será excluída permanentemente.", "You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }} days to restore a deleted Board. After that, it will be permanently deleted.", "boardForm.delete.helperText", undefined, true),{MAX_AGE_RECENTLY_DELETED_BOARD:f.Xq})})]})]})]});h?x&&(ec=(0,j.jsxs)(Z,{children:[(0,j.jsx)(O,{disabled:ed,name:ea,nameValidatorErrors:el,onChange:this.handleChangeName}),!z&&(0,j.jsx)(N,{isProtectedToggler:!!b,isToggleDisable:!!b&&!g&&!$,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:er}),S&&(0,j.jsx)(A,{selectedContacts:L,setSelectedContacts:D})]})):ec=(0,j.jsxs)(Z,{children:[!!m&&(0,j.jsx)(K,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,j.jsx)(w,{hasCollabBoardEmail:J,isCollaborative:o,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!a&&ed&&(0,j.jsx)(U,{allowHomefeedRecommendations:W,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,j.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n.bt("Apenas o dono da pasta ({{ boardOwner }}) pode gerenciar os outros recursos", "Only the board’s owner ({{ boardOwner }}) can manage the rest of its features", "BoardForm.CollaboratorPermissionsCopy", undefined, true),{boardOwner:(0,j.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let eu=B?r.u_:i.ZP,eh=this.props.i18n.bt("Alterar a capa da pasta", "Change board cover", "BoardForm.BoardCoverEdit.heading", undefined, true),e_=(0,j.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,j.jsx)(r.X6,{align:"center",size:"600",children:eh}),(0,j.jsx)(r.xu,{left:F.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!F.isRTL,top:!0,children:(0,j.jsx)(r.hU,{accessibilityLabel:this.props.i18n.bt("Cancelar alteração da capa da pasta", "Cancel change board cover", "BoardForm.BoardCoverEdit.cancel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]}),em=this.props.i18n.bt("Formulário da pasta", "Board form", "BoardForm.BoardForm", undefined, true),eb=(0,j.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,j.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ed&&ec,ed&&(0,j.jsx)(V,{board:e,collabBoardEmail:J,collaboratorInvitesEnabled:Y,coverPin:l,currentUserIsOwner:h,description:Q,descriptionValidatorErrors:ee,handleBoardLeave:m,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:o,name:ea,nameValidatorErrors:el,shouldShowCollaboratorsInviteToggle:T,showCoverEdit:es})]})}),eg=X?(0,j.jsx)(r.mh,{zIndex:s.b7,children:(0,j.jsx)(r.To,{accessibilityLabel:em,closeOnOutsideClick:!0,footer:this.getFormFooter(),heading:this.props.overlayPanelHeadingText,onDismiss:C,size:"sm",children:eb})}):(0,j.jsx)(G,{condition:!!B,children:(0,j.jsx)(eu,{accessibilityModalLabel:em,footer:this.getFormFooter(),heading:E,onDismiss:C,size:"sm",children:eb})});return(0,j.jsxs)(t.Fragment,{children:[!en&&!eo&&eg,en&&v&&(0,j.jsx)(_.Z,{children:(0,j.jsx)(H,{boardId:n,boardName:ea,coverPinId:l?.pin_id,frameHeight:d,frameWidth:u,heading:e_,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,j.jsx)(P.Z,{confirmButtonLabel:this.props.i18n.bt("Tornar secreta", "Make secret", "Setting the boards visibility to secret", undefined, true),heading:this.props.i18n.bt("Tem certeza?", "Are you sure?", "Warning label asking users to be sure of their action", undefined, true),message:this.props.i18n.bt("Se você tornar esta pasta secreta, alguns anúncios ativos deixarão de ser veiculados", "If you make this board secret, some active ads will stop running", "Explicitly warning users of the board visibility action they are doing", undefined, true),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),eo&&(0,j.jsx)(_.Z,{children:(0,j.jsx)(q,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}}function Q(e){let a=(0,d.Z)(),l=(0,g.ZP)(),{checkExperiment:t}=(0,u.Z)(),r=!t("sg_hide_collab_invite_on_edit_modal").anyEnabled;return(0,j.jsx)(Y,{...e,i18n:a,isDesktop:"desktop"===l,requestContext:(0,h.B)(),shouldShowCollaboratorsInviteToggle:r,toastManagerContext:(0,b.dI)()})}$(Y,"defaultProps",{isNameAndSecretView:!1})},476482:function(e,a,l){l.d(a,{Z:()=>i});var t=l(20256),r=l(982166),n=l(525839),o=l(785893);function i({cancelButtonLabel:e,confirmButtonLabel:a,heading:l,message:i,onCancel:s,onConfirm:d}){let c=(0,n.ZP)(),u=l||c.bt("Tem certeza?", "Are you sure?", " - ", undefined, true),h=e||c.bt("Cancelar", "Cancel", " - ", undefined, true);return(0,o.jsx)(r.ZP,{accessibilityModalLabel:u,footer:(0,o.jsxs)(t.xu,{marginEnd:-1,marginStart:-1,children:[(0,o.jsx)(t.xu,{"data-test-id":"cancel-button",padding:1,children:(0,o.jsx)(t.zx,{fullWidth:!0,onClick:s,size:"lg",text:h})}),(0,o.jsx)(t.xu,{"data-test-id":"confirm-button",padding:1,children:(0,o.jsx)(t.zx,{color:"red",fullWidth:!0,onClick:d,size:"lg",text:a})})]}),heading:u,onDismiss:s,role:"alertdialog",children:(0,o.jsx)(t.xu,{padding:4,children:(0,o.jsx)(t.xv,{children:i})})})}},415602:function(e,a,l){l.d(a,{A8:()=>y,CQ:()=>P,Cf:()=>f,DK:()=>b,GJ:()=>A,RZ:()=>x,SD:()=>C,aN:()=>F,h6:()=>p,tV:()=>j,xx:()=>v,yC:()=>E,zC:()=>g});var t,r,n,o,i,s,d,c=l(581722),u=l(167912),h=l(575108),_=l(980787),m=l(686319);let b=()=>{let e=(void 0!==t||(t=l(800679)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==t.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),[a]=(0,u.useMutation)(e),{logContextEvent:r}=(0,_.u)();return async(e,l,t)=>{let n={boardId:e,collaboratorIds:l,message:t||""};return await new Promise((l,t)=>{a({variables:{...n},onCompleted:(a,n)=>{n&&t(n[0]),r({event_type:28,object_id_str:e}),l()},onError:e=>t(e)})})}},g=()=>{let e=(void 0!==r||(r=l(868455)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==r.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,_.u)();return async(e,l,r)=>{let n={boardId:e,emails:l,message:r||""};return await new Promise((l,r)=>{a({variables:{...n},onCompleted:(a,n)=>{n&&r(n[0]),t({event_type:28,object_id_str:e}),l()},onError:e=>r(e)})})}},p=()=>{let e=(void 0!==n||(n=l(479699)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==n.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,_.u)();return async(e,l)=>{let r={boardId:e,userId:l};return await new Promise((l,n)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&n(r[0]),t({event_type:32,object_id_str:e}),l(a)},onError:e=>n(e)})})}};function f(e,a){return async l=>{await (0,m.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function v(e,a){return async l=>{await (0,m.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let y=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),x=()=>{let e=(void 0!==o||(o=l(608747)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==o.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,_.u)();return async e=>{let l={boardId:e};return await new Promise((r,n)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&n(l[0]),t({event_type:32,object_id_str:e}),r(a)},onError:e=>n(e)})})}},C=(e,a,l)=>async t=>{t(y(e,a)),(await h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||l({event_type:32,object_id_str:e})};function k(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let j=()=>{let e=(void 0!==i||(i=l(336997)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[a]=(0,u.useMutation)(e),t=(0,c.I0)();return async e=>{let l={boardId:e};return await new Promise((r,n)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&(t(k(e,!1)),n(l[0])),t(k(e,!0)),r(a)},onError:a=>{t(k(e,!1)),n(a)}})})}};function A(e,a){return l=>{(0,m.Z)({url:`/v3/boards/${e}/collaborators/request/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{l(k(e,!0))}),l(k(e,!1))}}let P=()=>{let e=(void 0!==s||(s=l(296485)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,_.u)();return async(e,l,r)=>{let n={boardId:e,userId:l,ban:r||!1};return await new Promise((l,r)=>{a({variables:{...n},onCompleted:(a,n)=>{n&&r(n[0]),t({event_type:29,object_id_str:e}),l(a)},onError:e=>r(e)})})}},F=()=>{let e=(void 0!==d||(d=l(579965)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,_.u)();return async(e,l)=>{let r={board:e,collaboratorIds:[l]};return await new Promise((l,n)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&n(r[0]),t({event_type:29,object_id_str:e}),l(a)},onError:e=>n(e)})})}},E=()=>{let e=P(),a=F();return(l,t,r)=>async()=>{let{invited_user:t,status:n,board:{id:o}}=l;t&&("accepted"===n?await a(o,t.id):await e(o,t.id,r))}}},812577:function(e,a,l){l.d(a,{I:()=>i,Z:()=>o});var t=l(886981),r=l(947810);let n=({boardId:e,ownerUsername:a,ownerName:l,ownerImgSrc:n})=>{let o=(0,r.Z)(),{data:i,isLoaded:s}=(0,t.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...o?{orbac_subject_id:o}:{}}}),d=[{name:l,src:n,href:`/${a}/`,isDim:!1}];return s&&i&&i.length>0&&i.forEach(e=>{d.push({name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),d},o=n;function i({children:e,...a}){return e(n(a))}},890774:function(e,a,l){l.d(a,{Z:()=>c});var t=l(581722),r=l(782677),n=l(575108),o=l(877956),i=l(440568),s=l(536652),d=l(72918);function c(){let e=(0,t.I0)(),a=(0,t.v9)(e=>e.resources);return async function({boardCreateOptions:l,deprecatedSchemaForNormalization:t}){let c=await n.Z.create("BoardResource",l).callCreate(),u=c.resource_response.data,h=t?(0,r.Fv)(u,t):void 0;e((0,d.XM)("BoardResource",l,c,h)),e((0,o.fO)({event_type:20})),u.owner?.id&&e((0,s.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=a.BoardsResource||{},m=a.BoardsFeedResource||{};return Object.keys(_).forEach(a=>{(0,i.k)(a).username===u.owner?.username&&e((0,d.jB)("BoardsResource",a))}),Object.keys(m).forEach(a=>{(0,i.k)(a).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",a))}),u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2944.pt_BR-b77a38fd002eeb72.mjs.map