(self.modernJsonp=self.modernJsonp||[]).push([["45591"],{303151:function(e,t,n){n.d(t,{Z:()=>o});var i=n(69119),a=n(13882);function o(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()===o.getTime()}},307595:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoEndCard_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};i.hash="e04be51b4be0a2585e7803d004fa83b7";let a=i},60533:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupVideoNonDuplo_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupVideoEndCard_pin"},{args:null,kind:"FragmentSpread",name:"VideoWithContextLogging_pin"},{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};i.hash="53ae9ecd15f057f744460205e5d495fd";let a=i},35312:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlockCloseup_pin"}],type:"Pin",abstractKey:null};i.hash="8bb1bb1f7bafeed0fe43bed44ef12d2a";let a=i},303965:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlockCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="7e8d917850c8329247291df0d281a59b";let a=i},111419:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateImageContainerDimension_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};i.hash="86a6c49cecdb70d77f786a1965756cf9";let a=i},331047:function(e,t,n){var i,a,o,l;n.r(t),n.d(t,{default:()=>r});let s=(i={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},l=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},a,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null});s.hash="f82ccc429683f2cb3ed96de5adc86f80";let r=s},856782:function(e,t,n){n.d(t,{S:()=>i,Z:()=>a});let i=1e3,a=3},112931:function(e,t,n){n.d(t,{ZP:()=>m,GJ:()=>h});var i,a=n(667294);n(422578);var o=n(592821),l=n(979904),s=n(139707),r=n(974297),d=n(415546),c=n(611499),u=n(601686);let p=(void 0!==i||(i=n(111419)).hash&&"86a6c49cecdb70d77f786a1965756cf9"!==i.hash&&console.error("The definition of 'useCalculateImageContainerDimension_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function h(e,t){return`${Math.floor(e/t*1e4)/1e4} / 1`}function m({carouselData:e,imageToDisplayWidthRatio:t=1,mainImage:n={width:1,height:1,url:""},maxCloseupImageWidth:i,pinKey:h,shouldPadImage:m=!1}){let g=(0,d.Z)(p,h),{peekCloseupEnabled:_,viewportSize:y}=(0,u.x4)(),{numericValues:f}=(0,o.Re)(),{maxHeight:b}=(0,l.Z)({pinKey:g}),{fiftyPercentHeight:x,fiftyPercentWidth:v,maxHeight:S,maxWidth:w}=f??{},{peekRedesignFastFollowsEnabled:P}=(0,s.Z)(n);return(0,a.useMemo)(()=>{let a,o=i-c.d2,l=Math.min(m?o:i,w??1/0,v??1/0),s=Math.min(...[n,...e?.carousel_slots?.map(e=>{var t;return(0,r.Z)(e.images)||((t=e.videos?.video_list)?t.V_720P?.url?t.V_720P:t.V_HLSV4?.url?t.V_HLSV4:t.V_HLSV3_MOBILE?.url?t.V_HLSV3_MOBILE:t.V_HLSV3_WEB?.url?t.V_HLSV3_WEB:null:null)}).filter(e=>!!e)||[]].map(({width:e,height:t})=>(e??1)/(t??1))),d=Math.floor(l*(e?t:1)/s),u="sm"===y?x:S;a=_?u??d:"number"==typeof b?b:d;let p=P?void 0:a,h=p?Math.min(d,p):d,g=Math.min(l*(_?h/d:1),w??1/0,v??1/0),{containerAspectRatio:f,letterBoxedWidth:C,letterBoxedHeight:k}=function(e,t,n){let i,a,o=e?.width/e.height,l=t/n;return o>l?(i=t,a=t/o):(i=n*o,a=n),{containerAspectRatio:l,letterBoxedWidth:i,letterBoxedHeight:a}}(n,g,h);return{containerAspectRatio:f,containerHeight:h,containerWidth:g,horizontalOffset:(g-C)/2,letterBoxedHeight:k,letterBoxedWidth:C,letterBoxAspectRatio:C/k,verticalOffset:(h-k)/2}},[i,m,n,e,t,y,x,S,_,b,P,w,v])}},899117:function(e,t,n){n.d(t,{Z:()=>i});let i=(e,t)=>{let n,{height:i=0,width:a=0}=t||{};switch(e){case"enabled_15":n=.15;break;case"enabled_25":n=.25;break;default:n=.35}return a/i<n}},179639:function(e,t,n){n.d(t,{Z:()=>g});var i=n(667294),a=n(20256),o=n(592821),l=n(979904),s=n(869985),r=n(980787),d=n(525839),c=n(399806),u=n(218831),p=n(601686),h=n(785893);class m extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t="startAudiblePlayTime",n=this.props.muted?null:new Date,(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){let{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime&&Date.now()-this.startAudiblePlayTime.getTime()>=2e3){let{hlsv3:t,mp4:a}=(0,c.Z)({vEXP3:i.video_list?.V_EXP3,vEXP4:i.video_list?.V_EXP4,vEXP5:i.video_list?.V_EXP5,vEXP6:i.video_list?.V_EXP6,vEXP7:i.video_list?.V_EXP7,v720P:i.video_list?.V_720P,vHLSV3MOBILE:i.video_list?.V_HLSV3_MOBILE})||{},o=(a||t)?.duration||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:o}})}}render(){let{activePageIndex:e,aspectRatio:t,blockHeight:n,blockWidth:i,closeupBodyWidth:o,closeupStoryPinViewability:l,closeupWithinMasonryEnabled:r,customEndCard:d,isPlaying:u,muted:p,onEnded:m,onUpdateVideoInfo:g,pageIndex:_,pin:y,pinId:f,maxHeight:b,video:x,videoThumbnailStartTime:v}=this.props,{hlsv3:S,mp4:w}=(0,c.Z)({vEXP3:x.video_list?.V_EXP3,vEXP4:x.video_list?.V_EXP4,vEXP5:x.video_list?.V_EXP5,vEXP6:x.video_list?.V_EXP6,vEXP7:x.video_list?.V_EXP7,v720P:x.video_list?.V_720P,vHLSV3MOBILE:x.video_list?.V_HLSV3_MOBILE})??{},P=w||S;if(!P)return null;let{height:C,thumbnail:k,width:j}=P,A=t??(j??1)/(C??1),I={height:"100%",left:"0",top:"0",width:"100%"},T=r&&o?(o??i)/(Number(b)??n):i/n;if(!r&&Math.abs(T-A)>.01){if(T<A){let e=100*A/T;I.width=`${e}%`,I.left=`-${(e-100)/2}%`}else if(T>A){let e=100*T/A;I.height=`${e}%`,I.top=`-${(e-100)/2}%`}}let E="number"==typeof e&&_<=e+3;return(0,h.jsx)(a.xu,{height:"100%",overflow:"hidden",position:"relative",width:"100%",children:(0,h.jsx)(a.xu,{height:"100%",position:"absolute",width:"100%",children:E||u||v?(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:I},position:"absolute",children:(0,h.jsx)(s.Z,{aspectRatio:r?T:t,autoplay:u,closeupStoryPinViewability:l,contextLogData:{component:0===_?227:228,element:10957,objectId:f,story_pin_page_id:_,view:3,viewParameter:157},customEndCard:d,customThumbnail:k,isPromoted:!1,loop:!1,muted:p,objectFit:w?r?"contain":"cover":void 0,onEnded:()=>{m&&m(_)},onTimeChange:({time:e})=>{g&&"number"==typeof P.duration&&P.duration>0&&g({currentTime:e,duration:P.duration/1e3})},pinId:f,pinKey:null===y?null:{type:"deprecated",data:y},preferMp4:!!w,showControls:"hover",variant:"storyPin",video:{id:x.id,hlsv3:S,mp4:w},videoThumbnailStartTime:v})}):k&&(0,h.jsx)(a.Ee,{alt:this.props.i18n.bt("Imagem de capa do vídeo", "Video cover image", "closeup.storyPin.videoCover", undefined, true),fit:"cover",naturalHeight:C??1,naturalWidth:j??1,src:k})})})}}function g(e){let{logContextEvent:t}=(0,r.u)(),{pin:n}=e,i=(0,d.ZP)(),{closeupWithinMasonryEnabled:a}=(0,p.x4)(),{closeupBodyWidth:s}=(0,u.K)(),{maxHeight:c}=(0,o.Re)(),{maxHeight:g}=(0,l.Z)({pinKey:null===n?null:{type:"deprecated",data:n}});return(0,h.jsx)(m,{...e,closeupBodyWidth:s,closeupWithinMasonryEnabled:a,i18n:i,logContextEvent:t,maxHeight:a?g:c})}},248762:function(e,t,n){n.d(t,{Z:()=>Y}),n(167912);var i,a,o=n(20256),l=n(112931),s=n(592821),r=n(616550),d=n(883817),c=n(980787),u=n(886981),p=n(785893);let h=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:i=0,rotation:a=0}={},original_comment_id:l},horizontalOffset:h=0,pageAspectRatio:m,scaleFactor:g,verticalOffset:_=0})=>{let{logContextEvent:y}=(0,c.u)(),f=s._B/m,b=t*s._B*g/100,x=n*s._B*g/100+h,v=(0,r.k6)(),{data:S}=(0,u.Z)({name:"AggregatedCommentResource",options:{commentId:l,field_set_key:"comment_reply_sticker"}});return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:x,top:i*f*g/100+_,transform:`rotate(${a}deg)`}},display:"flex",height:e*f*g/100,margin:-1,padding:1,position:"absolute",rounding:2,width:b,zIndex:d.B_,children:(0,p.jsx)(o.iP,{onTap:()=>{y({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:l}}),S?.pin_id&&v.push(`/pin/${S.pin_id}/comments/${l||""}`)},rounding:"pill"})})};var m=n(291892),g=n(7525);function _({src:e,fallbackSrc:t,...n}){let i=(0,g.Z)(e);return(0,p.jsx)(m.Z,{...n,src:i?e:t})}var y=n(581722);function f({isUseCache:e,signature:t}){return(0,y.v9)(({pinbuilder:n})=>{let{storyPinItemBlocks:i}=n;if(!e)return null;for(let e of Object.keys(i))if(i[e].media?.signatureEdited===t||i[e].media?.signature===t)return i[e];return null})}var b=n(667294),x=n(111923),v=n(865540),S=n(982166),w=n(525839),P=n(542092);let C=({aggregatedCommentId:e,onDismiss:t})=>{let n=(0,w.ZP)(),i=(0,v.Z)(),a=(0,x.Z)(),[l,s]=(0,b.useState)(""),r=(0,p.jsx)(o.kC,{justifyContent:"end",children:(0,p.jsx)(o.zx,{color:"red",disabled:!l,onClick:()=>{(async()=>{await a({fromUnifiedComment:!0,objectType:P.o.aggregatedComment,objectId:e,tags:"[]",text:l})})(),t()},text:n.bt("Publicar", "Post", "ideapin.questionsticker.replymodal.postbutton", undefined, true)})});return(0,p.jsx)(S.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:r,heading:n.bt("Responder", "Reply", "ideapin.questionsticker.replymodal", undefined, true),onDismiss:t,children:(0,p.jsx)(o.xu,{paddingX:8,paddingY:1,children:(0,p.jsx)(o.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{s(e)},placeholder:i?n.bt("Sua resposta aparecerá como um comentário público neste Pin.", "Your reply will show up as a public comment on this Pin.", "pin.questionsticker.replymodal.placeholder", undefined, true):n.bt("Sua resposta aparecerá como um comentário público nesse Idea Pin.", "Your reply will show up as a public comment on this Idea Pin.", "ideapin.questionsticker.replymodal.placeholder", undefined, true),value:l})})})};var k=n(744862),j=n(821342),A=n(415546),I=n(302148),T=n(123317),E=n(294711);let R=(void 0!==i||(i=n(303965)).hash&&"7e8d917850c8329247291df0d281a59b"!==i.hash&&console.error("The definition of 'StoryPinStickerBlockCloseup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function z({block:e,elementType:t,horizontalOffset:n=0,onFlyoutOpen:i,pageAspectRatio:a,pageIndex:l,pinKey:h,scaleFactor:m,tooltipElementType:g,verticalOffset:_=0,videoPinProgress:y}){let{logContextEvent:f}=(0,c.u)(),[x,v]=(0,b.useState)(!1),[S,P]=(0,b.useState)(!1),z=(0,b.useRef)(null),M=(0,r.k6)(),L=(0,w.ZP)(),F=(0,A.Z)(R,h),Z=(0,j.Z)(),{block_style:{height:O=0,width:V=0,x_coord:B=0,y_coord:N=0,rotation:$=0}={},end_time:H,error_message:D,interactive_sticker_type:K=null,is_removed:W,is_valid:U,start_time:X,sticker_data:G,type:q}=e,J=F?.entityId,{board_id:Y,question_comment_id:Q}=G||{},{image_small_url:ee,full_name:et,username:en=""}=e.user??{},ei=null,ea=U&&5===K&&!!Y,eo=U&&7===K&&!!Q,el=(0,u.Z)(Y&&ea?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:Y}}:null),{is_collaborative:es,pin_count:er,url:ed}=el.data||{};q===T.h8.PRODUCT_STICKER?ei=J?`/pin/${J}/`:"/":q===T.h8.MENTION_STICKER?ei=`/${en}/`:ea&&(ei=el.isLoaded?`${ed}`:null);let ec=s._B/a,eu=V*s._B*m/100,ep=B*s._B*m/100+n,{currentTime:eh}=y||{},em=!(0,E.Z)({currentTime:eh,endTime:H,startTime:X}),eg=()=>{f({event_type:123,component:228,element:g,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),v(!1)};(0,b.useEffect)(()=>(document.addEventListener("scroll",()=>{v(!1)}),()=>document.removeEventListener("scroll",()=>{v(!1)})),[]);let e_=()=>{let e=null,t=Z.isAuth?Z?.avatar_color_index:void 0;switch(q){case T.h8.PRODUCT_STICKER:let{gridTitle:n,imageSpec_236x:i,richSummary:a,description:l}=F||{},{displayName:s,products:r}=a||{},d=((r||[])[0]||{}).offerSummary||{},{price:c,maxPrice:u}=d||{},h=!!d&&(!!c||!!u),m=s||n||l;e=(0,p.jsxs)(b.Fragment,{children:[(0,p.jsx)(o.xu,{flex:"none",children:(0,p.jsx)(o.zd,{height:40,rounding:3,wash:!0,width:40,children:i?.url&&(0,p.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:i.url})})}),(0,p.jsx)(o.xu,{flex:"grow",paddingX:2,children:h?(0,p.jsxs)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,p.jsx)(o.xv,{color:"shopping",lineClamp:1,size:"100",weight:"bold",children:c}),(0,p.jsx)(o.xv,{lineClamp:1,size:"100",children:m})]}):(0,p.jsx)(o.xv,{lineClamp:1,size:"100",children:m})}),(0,p.jsx)(o.xu,{flex:"none",children:(0,p.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case T.h8.MENTION_STICKER:e=(0,p.jsxs)(b.Fragment,{children:[(0,p.jsx)(o.xu,{flex:"none",children:(0,p.jsx)(k.qE,{color:t,name:et??"",size:"sm",src:ee??void 0})}),(0,p.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,p.jsx)(o.xv,{lineClamp:1,size:"200",weight:"bold",children:et})}),(0,p.jsx)(o.xu,{flex:"none",children:(0,p.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]});break;case T.h8.GENERIC_STICKER:e=[5].includes(K)?U?el.isLoaded?(0,p.jsxs)(b.Fragment,{children:[(0,p.jsxs)(o.xu,{flex:"grow",paddingX:2,children:[(0,p.jsx)(o.xv,{lineClamp:1,size:"100",weight:"bold",children:es?L.bt("Explore esta pasta compartilhada", "Explore this group board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true):L.bt("Explorar esta pasta", "Explore this board", "closeup.StoryPin.stickerBlock.boardSticker.clickLabel", undefined, true)}),(0,p.jsx)(o.xv,{size:"100",children:(!!er||0===er)&&(0,I.nk)(L.nbt(["{{ pinCount }} Pin", "{{ pinCount }} Pins"], er, "closeup.StoryPin.stickerBlock.boardSticker.boardLabel", true),{pinCount:er})})]}),(0,p.jsx)(o.xu,{flex:"none",children:(0,p.jsx)(o.Sj,{bgColor:"transparent",icon:"arrow-forward",iconColor:"darkGray",size:"xs"})})]}):(0,p.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,p.jsx)(o.xu,{marginEnd:1,paddingX:2,children:(0,p.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:L.bt("Carregando a pasta...", "Loading board...", "closeup.StoryPin.stickerBlock.boardSticker.loadingText", undefined, true)})}),(0,p.jsx)(o.xH,{accessibilityLabel:L.bt("A pasta está sendo carregada", "Board is loading", "closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText", undefined, true),show:!0,size:"sm"})]}):(0,p.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,p.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:D})}):(0,p.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,p.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:L.bt("Ainda não é possível usar esse adesivo", "Sticker not supported yet", "closeup.StoryPin.stickerBlock.genericStickerError", undefined, true)})});break;case T.h8.VTO_MAKEUP_STICKER:e=(0,p.jsx)(o.xv,{size:"300",weight:"bold",children:L.bt("Experimente este adesivo no seu telefone!", "Try this sticker on your phone!", "closeup.storyPin.vtoMakeupSticker", undefined, true)})}return(0,p.jsx)(o.xu,{alignItems:"center","data-test-id":q,display:"flex",justifyContent:"center",padding:q===T.h8.PRODUCT_STICKER?1:3,width:"100%",children:W?(0,p.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:L.bt("A tag foi removida.", "Tag removed!", "closeup.storyPin.stickerBlock", undefined, true)}):e})};return(0,p.jsx)(b.Fragment,{children:em?null:(0,p.jsxs)(o.xu,{ref:z,dangerouslySetInlineStyle:{__style:{left:ep,top:N*ec*m/100+_,transform:`rotate(${$}deg)`}},"data-test-id":(q||"")+"_container",display:"flex",height:O*ec*m/100+2*s.Xw,margin:-1,padding:1,position:"absolute",rounding:2,width:eu+2*s.Xw,zIndex:d.B_,children:[(0,p.jsx)(o.iP,{disabled:em,onTap:x?eg:({event:e})=>{em||(f({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),eo?P(!0):(({event:e})=>{f({event_type:120,component:228,element:g,view_type:3,view_parameter:157,aux_data:{error_message:!U&&D?D:null,story_pin_page_id:l}}),v(!0),i&&(e.stopPropagation(),i())})({event:e}))},rounding:"pill"}),x&&(0,p.jsx)(o.mh,{zIndex:d.ej,children:(0,p.jsx)(o.J2,{_deprecatedShowCaret:!0,anchor:z.current,idealDirection:"up",onDismiss:eg,positionRelativeToAnchor:!1,size:W?"flexible":"sm",children:W?e_():(0,p.jsx)(o.iP,{fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),W||(f({event_type:101,component:228,element:g,object_id_str:J,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:l}}),ei?M.push(ei):eg())},children:e_()})})}),!!Q&&S&&(0,p.jsx)(C,{aggregatedCommentId:Q,onDismiss:()=>{P(!1)}})]})})}var M=n(445698),L=n(47676),F=n(238187),Z=n(452750);function O({block:e,fontsLoaded:t,horizontalOffset:n=0,pageAspectRatio:i,scaleFactor:a,thumbnail:l,verticalOffset:s=0}){let{block_style:r,style:d=T.Cc,text:c}=e,{alignment:u,font:h,font_size:m,highlight_color:g,vertical_alignment:_=T.Cc.vertical_alignment}=d,{hex_color:y=T.Cc.hex_color}=d??{},[f,x]=(0,b.useState)(0),[v,S]=(0,b.useState)([]),w=h||T.Cc.font,{name:P,default_size:C,letter_spacing:k,line_height:j}=w,A=(0,Z.Z)(w),I=Math.round(100*(r?.width||100))/1e4,E=Math.round(100*(r?.height||100))/1e4,R=Math.round(100*(r?.x_coord||0))/1e4,z=Math.round(100*(r?.y_coord||0))/1e4;(0,b.useEffect)(()=>{if(t){let e=(0,F.KV)({text:c,boxHeight:L.q8/i*E,boxWidth:L.q8*I,font:A,startFontSize:Math.floor(m||C||24)});S(e.lines),x(e.fontSize)}},[t,c]);let O=f*a,V=g?(0,T.pE)(O,j):{x:0,y:0},B=I*L.q8*a+2*V.x,N=E*(L.q8/i)*a+2*V.y,$=n+R*L.q8*a-V.x,H=l?`${100*z}%`:s+z*(L.q8/i)*a-V.y;return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:$,top:H}},display:"flex",height:N,position:"absolute",width:B,children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,M.RK)({alignment:u,verticalAlignment:_})},children:(0,p.jsx)(o.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,p.jsx)("p",{style:(0,M.BN)({fontSize:O,hexColor:y,letterSpacing:k,lineHeight:j,name:P}),children:v.map((e,t)=>(0,p.jsx)("span",{"data-gestalt-valid-html":"Text",style:(0,M.xm)({fontSize:O,hasText:e.text.length>0,highlightColor:g||null,lineHeight:j}),children:t===v.length-1?e.text:(0,p.jsxs)(b.Fragment,{children:[e.text," ",(0,p.jsx)("br",{})]})},`paragraphLine-${t}-${(c??"").substr(0,9)}`))})})})})}var V=n(179639);function B({ownerId:e}){let t=(0,w.ZP)(),n=(0,j.Z)(),i=n.isAuth&&n.id===e;return(0,p.jsxs)(o.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,p.jsx)(o.xv,{color:"inverse",children:i?t.bt("Seu vídeo está sendo processado.", "Your video is processing!", "closeup.storyPin.videoPlaceholder", undefined, true):t.bt("Esse vídeo ainda está sendo processado.", "This video is still processing!", "closeup.storyPin.videoPlaceholder", undefined, true)}),(0,p.jsx)(o.xv,{color:"inverse",children:t.bt("Volte a conferir em alguns minutos.", "Check back in a few minutes.", "closeup.storyPin.videoPlaceholder", undefined, true)})]})}var N=n(139707),$=n(934645),H=n(67831),D=n(716920),K=n(956077),W=n(85574),U=n(601686),X=n(653621);function G({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){let a,r=(0,w.ZP)(),{closeupWithinMasonryEnabled:d,isCloseupMediaViewerOpen:c,peekCloseupEnabled:u,showProductDetailPage:h}=(0,U.x4)(),g=(0,$.Z)({showProductDetailPage:h}),{borderStyle:y}=i||g?{}:(0,W.Z)({closeupWithinMasonryEnabled:d,peekCloseupEnabled:u}),b=e.image?.images?.["750x"]||e.image?.images?.["474x"],{height:x=1,width:v=1}=b||{},S=f({isUseCache:!0,signature:e.image_signature}),{peekRedesignFastFollowsEnabled:P}=(0,N.Z)(b);return b||S?(a=i?"cover":d||P?"none":"contain",(0,p.jsx)(o.xu,{alignItems:u?"center":void 0,dangerouslySetInlineStyle:{__style:{...y,aspectRatio:d?(0,l.GJ)(v,x):void 0,contain:"strict",display:u?"grid":"block",justifySelf:d?"center":void 0}},height:d?"100%":"inherit",overflow:"hidden",width:d?void 0:"inherit",children:S?(0,p.jsx)(_,{_enableViewTransitions:!0,alt:r.bt("Imagem do Pin de história", "Story pin image", "closeup.storypin.renderer", undefined, true),color:s.yc,elementTiming:"StoryPinImageBlock-MainPinImage",fallbackSrc:S.media?.src??"",fit:a,isActive:t,naturalHeight:x,naturalWidth:v,onLoad:n,src:b?.url??"",suppressViewTransitionTags:c}):(0,p.jsx)(m.Z,{_enableViewTransitions:!0,alt:r.bt("Imagem do Pin de história", "Story pin image", "closeup.storypin.renderer", undefined, true),borderStyle:y,color:s.yc,elementTiming:"StoryPinImageBlock-MainPinImage",fetchPriority:d?"high":void 0,fit:a,isActive:t,naturalHeight:b?.height??1,naturalWidth:b?.width??1,onLoad:n,src:b?.url??"",suppressViewTransitionTags:c})})):null}function q({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:a,isSplitLayout:l=!1,musicRecordingId:r,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:h,pageAspectRatio:m,pageDimensions:g,pageIndex:_,pin:y,pinId:b,scaleFactor:x,stillLoading:v,videoThumbnailStartTime:S,thumbnail:w=!1}){let{block_style:{height:P=100,width:C=100,x_coord:k=0,y_coord:j=0}={},video:A}=t,{closeupWithinMasonryEnabled:I}=(0,U.x4)(),T=s._B/m,{height:E,width:R}=g,z=C*s._B*x/100,M=C<100?Math.min(Math.max(100,C)-Math.abs(k),C):Math.min(Math.max(C-Math.abs(k),0),100),L=P<100?Math.min(Math.max(100,P)-Math.abs(j),P):Math.min(Math.max(P-Math.abs(j),0),100),F=I?"100%":L*T*x/100,Z=I?"100%":M*s._B*x/100,O=Math.max(j,0)*T*x/100,N=Math.max(k,0)*s._B*x/100,$=f({isUseCache:!A,signature:t.video_signature});if(v)return null;let{media:H}=$||{},{duration:D,src:K}=H||{},W=!!K&&!!D;return A||W?!!(A?.video_list?.V_HLSV3_MOBILE||A?.video_list?.V_720P||W)&&(0,p.jsx)(o.xu,{height:l?"50%":"100%",overflow:"hidden",position:"relative",children:(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{alignSelf:"anchor-center",left:N,top:O}},height:w?E:F,overflow:"hidden",position:"absolute",width:w?R:Z,children:(0,p.jsx)(V.Z,{activePageIndex:e,aspectRatio:m,blockHeight:w?E:P*T*x/100,blockWidth:w?R:z,closeupStoryPinViewability:n,customEndCard:i,isPlaying:a,musicRecordingId:r,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:_,pin:y,pinId:b,video:A||{video_list:{V_EXP7:{duration:D?1e3*D:0,url:K}}},videoThumbnailStartTime:S})})}):(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{left:N,top:O}},height:F,position:"absolute",width:Z,children:(0,p.jsx)(B,{ownerId:h})})}let J=(void 0!==a||(a=n(35312)).hash&&"8bb1bb1f7bafeed0fe43bed44ef12d2a"!==a.hash&&console.error("The definition of 'StoryPinBlock_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function Y({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,disableProductStickers:a,fontsLoaded:l,horizontalOffset:r,isActive:d,isSplitLayout:c=!1,musicRecordingId:u,muteVideos:m,onEnded:g,onFlyoutOpen:_,onUpdateVideoInfo:y,ownerId:f,pageAspectRatio:b,pageHeight:x,pageIndex:v,pageWidth:S,pin:w,pinId:P,previewOnly:C,pinKey:k,stillLoading:j=!1,thumbnail:I=!1,transform:E,verticalOffset:R,videoPinProgress:M,videoThumbnailStartTime:L}){let F=(0,A.Z)(J,k),{closeupWithinMasonryEnabled:Z}=(0,U.x4)(),{block_style:{height:V=100,width:B=100,x_coord:N=0,y_coord:$=0}={},interactive_sticker_type:W=null}=t,Y=(0,D.g)(),Q=(0,H.A)();if(0===V||0===B)return null;let ee=S/s._B;switch(t.type){case T.h8.PARAGRAPH:case T.h8.HEADING:return(0,p.jsx)(O,{block:t,fontsLoaded:l,horizontalOffset:r,pageAspectRatio:b,scaleFactor:ee,thumbnail:I,verticalOffset:R});case T.h8.VIDEO:return(0,p.jsx)(q,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:i,isActive:d,isSplitLayout:c,musicRecordingId:u,muted:m,onEnded:g,onUpdateVideoInfo:y,ownerId:f,pageAspectRatio:b,pageDimensions:{height:x,width:S},pageIndex:v,pin:w,pinId:P,scaleFactor:ee,stillLoading:j,thumbnail:I,videoThumbnailStartTime:L});case T.h8.IMAGE:let{scaleX:et=1,scaleY:en=1}=E||{};return(0,p.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:Z?"grid":"block",height:`${V}%`,left:`${N*et}%`,top:`${$*en}%`,width:`${B}%`}},overflow:"hidden",position:"absolute",children:(0,p.jsx)(G,{block:t,isActive:d,pwtTrackImageLoad:()=>{Y&&d&&(Y.addBinaryAnnotation("pin.id",P,"STRING"),Y.addBinaryAnnotation("video",!1,"BOOL"),Y.stop()),d&&(Q&&(Q.addBinaryAnnotation("pin.id",P,"STRING"),Q.addBinaryAnnotation("video",!1,"BOOL"),Q.removeConstraint(X._z),Q.markConstraintComplete(X.pM)),(0,K.rt)("pin.id",P,"STRING"),(0,K.rt)("video",!1,"BOOL"),(0,K.Nx)(X.pM),(0,K.l7)(X._z))},thumbnail:I})});case T.h8.MENTION_STICKER:return!C&&(0,p.jsx)(z,{block:{...t},elementType:12120,horizontalOffset:r,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:12121,verticalOffset:R,videoPinProgress:M});case T.h8.GENERIC_STICKER:return!C&&(e=>{let t=5===W;return(0,p.jsx)(z,{block:{...e},elementType:t?12827:12858,horizontalOffset:r,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:t?12828:12859,verticalOffset:R,videoPinProgress:M})})(t);case T.h8.PRODUCT_STICKER:return!C&&!a&&(0,p.jsx)(z,{block:{...t},elementType:12223,horizontalOffset:r,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:v,pinKey:F,scaleFactor:ee,tooltipElementType:12224,verticalOffset:R,videoPinProgress:M});case T.h8.VTO_MAKEUP_STICKER:return!C&&(0,p.jsx)(z,{block:{...t},elementType:12561,horizontalOffset:r,onFlyoutOpen:_,pageAspectRatio:b,pageIndex:v,pinKey:null,scaleFactor:ee,tooltipElementType:12561,verticalOffset:R,videoPinProgress:M});case T.h8.COMMENT_REPLY_STICKER:return t.type===T.h8.COMMENT_REPLY_STICKER&&!C&&(0,p.jsx)(h,{block:t,horizontalOffset:r,pageAspectRatio:b,scaleFactor:ee,verticalOffset:R});default:return null}}},995415:function(e,t,n){n.d(t,{Z:()=>i});let i=({carouselData:e,domain:t})=>{let n="",i=t||"";if(e){let{carouselSlots:t=[]}=e,a=e.index??0;t&&t[a]&&(n=t[a].link||"",i=t[a].domain||i)}return{carouselLink:n,currentDomain:i}}},979904:function(e,t,n){n.d(t,{Z:()=>u}),n(422578);var i,a=n(995415),o=n(934645),l=n(415546),s=n(644493),r=n(664897),d=n(601686);let c=(void 0!==i||(i=n(331047)).hash&&"f82ccc429683f2cb3ed96de5adc86f80"!==i.hash&&console.error("The definition of 'useCalculateMaxWidthAndHeightForSideBySideVariant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function u({pinKey:e}){let t,{closeupWithinMasonryEnabled:n}=(0,d.x4)(),i=(0,r.Z)(),u=(0,l.Z)(c,e),p=(0,o.Z)({showProductDetailPage:!!u?.isEligibleForPdp});if(!n)return{maxHeight:void 0};let h=u?.richMetadata?.products?.[0],m=h?.offerSummary,g=m?.price||m?.standardPrice,_=u?.linkDomain?.officialUser?.firstName,y=!!u?.closeupAttribution?.firstName||_,f=u?.linkUserWebsite?.officialUser?.firstName,b=u?.trackedLink||u?.link||"",x=(0,s.Z)(b)??b,{currentDomain:v}=(0,a.Z)({carouselData:u?.carouselData&&{carouselSlots:u?.carouselData.carouselSlots&&u?.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:u?.carouselData?.index},domain:u?.domain}),S=v.split(".")[0],w=0,P=0;if(t=84+18*!!g,w+=23*!!u?.closeupUnifiedTitle+40*!!y,P+=(f||_||S)&&x?64:0,t+=Math.max(w,P),i)return{maxHeight:p?void 0:`calc(round(100vh, 1px) - 80px - ${t}px)`};let C=Math.round(window.innerHeight)-80-t;return{maxHeight:p?void 0:C}}},139707:function(e,t,n){n.d(t,{Z:()=>s});var i=n(899117),a=n(274320),o=n(15667),l=n(647709);function s(e){let{isAuthenticated:t}=(0,o.B)(),n=(0,l.HG)(),{checkExperiment:s}=(0,a.r)(),r=t&&n&&s("closeup_dweb_peek_redesign_fast_follow").anyEnabled,d=s("closeup_dweb_peek_redesign_fast_follow").group,c=t&&n&&s("closeup_dweb_side_by_side_redesign_fast_follow").anyEnabled,u=c?s("closeup_dweb_side_by_side_redesign_fast_follow").group:"";return{peekRedesignFastFollowsExpGroup:d,peekRedesignFastFollowsEnabled:r&&(0,i.Z)(d,e),sideBySideRedesignFastFollowsExpGroup:u,sideBySideRedesignFastFollowsEnabled:c,sideBySideFullWidthCTAEnabled:"enabled_full_width_cta"===u||"employees"===u,sideBySidePWTDeferActionBarLoad:"enabled_pwt_defer_action_bar_load"===u}}},934645:function(e,t,n){n.d(t,{Z:()=>l});var i=n(274320),a=n(15667),o=n(647709);let l=({showProductDetailPage:e,skipActivation:t})=>{let{checkExperiment:n}=(0,i.r)(),l=(0,o.HG)(),{isAuthenticated:s}=(0,a.B)();return!!s&&!!l&&!!e&&n("closeup_dweb_blended_ui",{dangerouslySkipActivation:t}).anyEnabled}},11919:function(e,t,n){n.r(t),n.d(t,{default:()=>k});var i=n(667294),a=n(303151),o=n(20256),l=n(707915),s=n(856782),r=n(111330),d=n(702849),c=n(525839),u=n(369416),p=n(753143),h=n(341742),m=n(664897),g=n(790427),_=n(785893);function y({containerRef:e,onAnimationEnd:t,startAnimating:n,containerWidth:a}){let l=(0,c.ZP)(),s=(0,m.Z)(),h=(0,p.M0)(),[y,f]=(0,i.useState)(),[b,x]=(0,i.useState)(!1),[v,S]=(0,i.useState)(),w=l.bt("Compartilhar", "Share", "secondarySendButtonAnimation.share", undefined, true),P={buttonStyle:{animation:y,backgroundColor:d.Et},textStyle:{animation:v}};return(0,i.useEffect)(()=>{if(!s&&a)if(n){x(!0);let{animationSeenCount:e}=h.getItem(r.$M)||{animationSeenCount:0};h.setItem(r.$M,{animationSeenCount:e+1,lastAnimationTimestamp:Date.now()}),f("buttonSlideOut 1s ease-in forwards"),S("textFadeIn 1s ease-in forwards")}else f("buttonSlideIn .3s ease-in forwards"),S("textFadeOut .3s ease-in-out forwards")},[a,h,n,s]),(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(u.Z,{unsafeCSS:`
@keyframes buttonSlideOut {
  0% {
    width: 48px;
  }
  15% {
    width: ${a}px;
  }
  100% {
    width: ${a}px;
  }
}

@keyframes textFadeIn {
  0% {
    opacity: 0;
  }
  15% {
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes buttonSlideIn {
  0% {
    width: ${a}px;
  }
  100% {
    width: 48px;
  }
}

@keyframes textFadeOut {
  0% {
    opacity: 1;
  }
  15% {
    opacity: 1;
  }
  25% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}
`}),(0,_.jsx)(o.xu,{ref:e,alignItems:"center",dangerouslySetInlineStyle:{__style:{...P.buttonStyle,visibility:b?"visible":"hidden"}},display:"flex",onAnimationEnd:e=>{"buttonSlideIn"===e.animationName&&t()},position:"absolute",rounding:4,zIndex:g.mS,children:(0,_.jsxs)(o.kC,{alignItems:"center",gap:1,children:[(0,_.jsx)(o.xu,{padding:3,children:(0,_.jsx)(o.JO,{accessibilityLabel:w,color:"default",icon:"share",size:24})}),(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:P.textStyle},marginEnd:3,children:(0,_.jsx)(o.mg,{size:"md",children:w})})]})})]})}function f({onAnimationEnd:e}){let t=(0,i.useRef)(null),[n,a]=(0,i.useState)(0),[o,l]=(0,i.useState)(!1);return(0,h.Z)(()=>{let e=setTimeout(()=>{l(!0);let e=setTimeout(()=>{l(!1)},3e3);return()=>clearTimeout(e)},s.S+1e3);return()=>clearTimeout(e)}),(0,i.useEffect)(()=>{if(t.current&&!n&&o){let e=t.current.getBoundingClientRect().width;e&&a(e)}},[t,n,o]),(0,_.jsx)(y,{containerRef:t,containerWidth:n,onAnimationEnd:e,startAnimating:o})}var b=n(121836),x=n(364843),v=n(274320),S=n(238589),w=n(807765),P=n(74229),C=n(539532);function k({controllerOptions:e,iconColor:t,iconOnly:n,buttonText:s,showSendAnimation:d=!1,tabIndex:u=0,closeupWithinMasonryEnabled:m=!1,isInCloseupMediaViewer:g=!1}){let y=(0,c.ZP)(),k=(0,p.M0)(),j=(0,S.Nl)(),{checkExperiment:A}=(0,v.r)(),{setIsShowingShareButton:I}=(0,w.f)(),T=(0,i.useRef)(null),[E,R]=(0,i.useState)(d),z=g?new o.H3([P.k]):new o.Ry(5),[M]=(0,i.useState)(()=>{let e=j.getItem(b.bl)||0,{animationSeenCount:t}=k.getItem(r.$M)||{animationSeenCount:0};return t<2&&(2===e||3===e)}),L=()=>{R(!1)};return(0,h.Z)(()=>{let{lastAnimationTimestamp:e}=k.getItem(r.$M)||{lastAnimationTimestamp:0};(0,a.Z)(new Date(e),new Date)||k.setItem(r.$M,{animationSeenCount:0,lastAnimationTimestamp:e})}),(0,i.useEffect)(()=>(I(d),()=>{I(!1)}),[I,d]),(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(C.Z,{...e,children:({handleSendShareFlyoutButtonClick:i})=>(0,_.jsxs)(o.u,{inline:!0,text:y.bt("Compartilhar", "Share", "Closeup.SharePin.Icon", undefined, true),zIndex:z,children:[E&&M&&A("sg_dweb_improved_share_animation_on_closeup").anyEnabled&&(0,_.jsx)(o.xu,{"data-test-id":"closeup-share-button",children:(0,_.jsx)(o.iP,{onTap:i,children:(0,_.jsx)(f,{onAnimationEnd:L})})}),g?(0,_.jsx)(o.zx,{ref:T,accessibilityLabel:y.bt("Compartilhar", "Share", "Closeup.SharePin.AccessibilityLabel", undefined, true),color:"white",iconEnd:"share",onClick:i,size:"lg",tabIndex:u,text:y.bt("Compartilhar", "Share", "Closeup.SharePin.Button", undefined, true)}):(0,_.jsx)(l.Z,{ref:T,accessibilityLabel:y.bt("Enviar", "Send", "Accessible label for button to send this pin", undefined, true),bgColor:m?"white":void 0,buttonText:s,handleClick:()=>i(),icon:"share",iconColor:t,iconOnly:n,isActive:e.isFlyoutOpen,tabIndex:u,testId:"closeup-share-button"})]})}),(0,_.jsx)(x.N,{anchors:{3017:T.current},idealDirection:"down",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0})]})}},869985:function(e,t,n){n.d(t,{Z:()=>U});var i,a,o=n(667294);n(422578);var l=n(20256),s=n(592821),r=n(979904),d=n(890479),c=n(11919),u=n(980787),p=n(679422),h=n(415546),m=n(525839),g=n(601686),_=n(603316),y=n(785893);function f(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b={__style:{backgroundColor:"#000"}},x=(void 0!==i||(i=n(307595)).hash&&"e04be51b4be0a2585e7803d004fa83b7"!==i.hash&&console.error("The definition of 'CloseupVideoEndCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);class v extends o.PureComponent{constructor(...e){super(...e),f(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.props.onRestartVideo?.({event:e}),(0,_.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"restart",variant:"enabled_send_first"}})}),f(this,"handleShareVideo",()=>{let{clientTrackingParams:e,onToggleFlyout:t,isFlyoutOpen:n,pinId:i,requireAuth:a,logContextEvent:o}=this.props;if(n&&(0,_.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}}),o({event_type:101,component:179,object_id_str:i,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e}),a)return void a();t&&t()}),f(this,"handleExternalSend",()=>{(0,_.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"shareSheetOpen",variant:"enabled_send_first"}})}),f(this,"renderReplayButton",()=>(0,y.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt("Assistir novamente", "Watch again", "Button when pressed restarts the video", undefined, true),onTap:this.handleRestartVideo,rounding:2,children:(0,y.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,y.jsx)(l.xu,{marginEnd:3,children:(0,y.jsx)(l.JO,{accessibilityLabel:this.props.i18n.bt("Assistir novamente", "Watch again", "Button when pressed restarts the video", undefined, true),color:"inverse",icon:"refresh",size:18})}),(0,y.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Assistir novamente", "Watch again", "Clickable label when pressed restarts the video", undefined, true)})]})})),f(this,"renderShareButton",()=>{let{clientTrackingParams:e,gridDescription:t,imageSrc:n,isFlyoutOpen:i,onFlyoutDismiss:a,pinId:o}=this.props;return(0,y.jsx)(l.iP,{accessibilityLabel:this.props.i18n.bt("Enviar", "Send", "end.video.send.icon.label", undefined, true),onTap:this.handleShareVideo,rounding:2,children:(0,y.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:[(0,y.jsx)(c.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:i,onFlyoutDismiss:a,onToggleFlyout:()=>{},sendObject:{type:"pin",description:t,id:o,imageUrl:n,url:`/pin/${o}/`,clientTrackingParams:e}},iconColor:"white",iconOnly:!0,tabIndex:-1}),(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n.bt("Enviar", "Send", "end.video.send.icon.label", undefined, true)})})]})})})}componentDidMount(){let{clientTrackingParams:e,pinId:t,logContextEvent:n}=this.props;(0,_.nP)("web.video.endcard.share",{sampleRate:1,tags:{status:"land",variant:"enabled_send_first"}}),n({event_type:13,component:179,object_id_str:t,view_type:3,view_parameter:156,element:11731,clientTrackingParams:e})}render(){let{backgroundImage:e,naturalHeight:t,naturalWidth:n,maxHeight:i,maxWidth:a,pinTitle:o}=this.props;return(0,y.jsx)(l.xu,{maxHeight:i,maxWidth:a,children:(0,y.jsxs)(l.Ee,{alt:o||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:b,left:!0,position:"absolute",right:!0,top:!0}),(0,y.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",height:"100%",justifyContent:"center",left:!0,maxHeight:i,maxWidth:a,position:"absolute",top:!0,width:"100%",children:(0,y.jsxs)(l.xu,{position:"absolute",children:[(0,y.jsx)(l.xu,{children:this.renderShareButton()}),(0,y.jsx)(l.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function S(e){let t,{pinKey:n,variant:i}=e,a=(0,h.Z)(x,n),{logContextEvent:o}=(0,u.u)(),l=(0,m.ZP)(),d=(0,p.Z)(),{closeupWithinMasonryEnabled:c,peekCloseupEnabled:_,viewportSize:f}=(0,g.x4)(),{maxHeight:b,fiftyPercentHeight:S,fiftyPercentWidth:w}=(0,s.Re)(),{maxHeight:P}=(0,r.Z)({pinKey:a});return _?t="sm"===f?S:b:c&&(t=P),(0,y.jsx)(v,{...e,closeupWithinMasonryEnabled:c,i18n:l,logContextEvent:o,maxHeight:"media-viewer"===i?"inherit":t,maxWidth:"media-viewer"===i?"inherit":w,requireAuth:d})}let w=({backgroundImage:e,onRestartVideo:t,pinTitle:n})=>{let i=(0,m.ZP)();return(0,y.jsx)(l.xu,{"data-test-id":"video-end-card",height:"100%",width:"100%",children:(0,y.jsxs)(l.Ee,{alt:n||"",fit:"contain",naturalHeight:1,naturalWidth:1,src:e,children:[(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:b,left:!0,opacity:.8,position:"absolute",right:!0,top:!0}),(0,y.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.iP,{onTap:t,rounding:2,children:(0,y.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,y.jsx)(l.hU,{accessibilityLabel:i.bt("Repetir", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true),icon:"refresh",iconColor:"white",size:"md"}),(0,y.jsx)(l.X6,{color:"light",overflow:"normal",size:"400",children:i.bt("Repetir", "Replay", "closeupVideo.endCard.ReplayButton", undefined, true)})]})})})})]})})};var P=n(293565),C=n(392824),k=n(67831),j=n(716920),A=n(361423),I=n(754545),T=n(956077),E=n(15667),R=n(281106),z=n(181663),M=n(123317),L=n(724084),F=n(510928),Z=n(647709),O=n(239728),V=n(104659),B=n(653621),N=n(589357),$=n(720445);function H(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let D=(void 0!==a||(a=n(60533)).hash&&"53ae9ecd15f057f744460205e5d495fd"!==a.hash&&console.error("The definition of 'CloseupVideoNonDuplo_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),K=(e,t)=>{t({currentTime:e?.currentTime??0,duration:e?.duration??1})};class W extends o.Component{constructor(...e){super(...e),H(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,P.G6)(this.props.requestContext.userAgent.browserName)&&!!this.props.autoplay&&!this.props.disabled,ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),H(this,"setVideoPwtLoadingStop",(e=!1)=>{if(!A.Z)return;let{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:A.Z.now()}),t.stop()),i&&(e||(i.addAnnotation("video.startup.end"),(0,C.ZP)("video.startup.end")),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(B._z),i.addSubspan("perceived_video_load",null,A.Z.now()),(0,C.L8)("perceived_video_load"),"story_pin"===i.getMetricId().segment&&i.removeConstraint(B.pM)),(0,T.Nx)(B._z),(0,T.rt)("pin.id",n,"STRING"),(0,T.rt)("video",!0,"BOOL"),"STORY_PIN_CLOSEUP"===(0,I.Ly)()&&(0,T.l7)(B.pM)}),H(this,"componentDidMount",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||a||{},l=(0,N.j4)(e||o);l?.ready===4&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0)),document.addEventListener("fullscreenchange",this.onFullscreenChange),document.addEventListener("webkitfullscreenchange",this.onFullscreenChange),document.addEventListener("mozfullscreenchange",this.onFullscreenChange),document.addEventListener("MSFullscreenChange",this.onFullscreenChange)}),H(this,"componentWillUnmount",()=>{document.removeEventListener("fullscreenchange",this.onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this.onFullscreenChange),document.removeEventListener("mozfullscreenchange",this.onFullscreenChange),document.removeEventListener("MSFullscreenChange",this.onFullscreenChange)}),H(this,"onFullscreenChange",()=>{document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||this.props.setPanelOpen(e=>!e)}),H(this,"componentDidUpdate",(e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:+!this.props.muted}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay(),this.props.isCloseupMediaViewerOpen&&!e.isCloseupMediaViewerOpen&&this.setState({playing:!1})}),H(this,"handleTouch",()=>{let{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState(e=>({playing:!e.playing}))}),H(this,"handleShowControls",()=>this.setState({controls:!0})),H(this,"handleHideControls",()=>this.setState({controls:!1})),H(this,"handleReady",()=>{let{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,P.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})}),H(this,"handleEnded",({event:e})=>{let{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:a,loop:o,onEnded:l}=this.props;e.stopPropagation(),!o&&(this.setState({playing:!1}),t&&t.endsWith(".gif")||n||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),l&&l(),this.props.setPanelOpen(!0)}),H(this,"handlePause",({event:e})=>{e.stopPropagation(),this.setState({playing:!1})}),H(this,"handlePlay",({event:e})=>{e.stopPropagation(),this.setState({playing:!0})}),H(this,"handleFullscreenChange",({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})}),H(this,"handlePlayheadDown",()=>{this.setState({seeking:!0})}),H(this,"handlePlayheadUp",()=>{setTimeout(()=>{this.setState({seeking:!1})},500)}),H(this,"handleRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),H(this,"handleShareRestartVideo",({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})}),H(this,"handleVolumeChange",({event:e,volume:t})=>{let{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})}),H(this,"exitFullscreen",()=>{let{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())}),H(this,"requestFullscreen",()=>{let{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:o}=n&&i||a||{},l=(0,N.j4)(e||o);l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen()}),H(this,"renderCloseupVideoEndCard",(e,t,n,i)=>{let a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},o={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{clientTrackingParams:l,flyoutShareProps:s}=this.props,r={clientTrackingParams:l,gridDescription:s?s.gridDescription:"",imageSrc:s?s.imageSrc:"",isFlyoutOpen:!!s&&s.isFlyoutOpen,onFlyoutDismiss:s?s.onFlyoutDismiss:()=>{},onToggleFlyout:s?s.onToggleFlyout:()=>{},pinId:s?s.pinId:"",pinKey:this.props.pin,variant:this.props.variant};return i?(0,y.jsx)(w,{...o}):(0,y.jsx)(S,{...r,...a})})}render(){let{aspectRatio:e,autoplay:t,closeupStoryPinViewability:n,contextLogData:i={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:a,isPromoted:o,loop:r,objectFit:c,preferMp4:u,preload:p,requestContext:h,showControls:m,variant:g,video:_,captions:f,isDesktop:b,videoThumbnailStartTime:x,pin:v,pinId:S,setProgressInfo:w,progressInfo:C,setPanelOpen:k,panelOpen:j,setMute:A,isMuted:I,closeupWithinMasonryEnabled:T,maxHeight:E,maxWidth:L,onTimeChange:F,seekTime:Z,roundingOverride:V}=this.props;i.is_closeup_video=!0;let{controls:B,fullscreen:H,playing:D,showEndCard:W,volume:U,videoStartTime:X}=this.state,G=_.hlsv3||_.hls||null;if(!G&&!_.mp4)return null;let{mp4:q}=_,J=u&&q&&q.url||G&&[{type:"video/m3u8",src:G.url}]||void 0,{height:Y,thumbnail:Q,width:ee}=u&&q||G||{},et=a||Q,en=()=>{k&&k(!j),j&&b&&this.requestFullscreen()},ei=()=>{this.setState({volume:+!!I}),A(!I)},ea=()=>{this.setState({playing:!0})},eo=()=>{this.setState({playing:!1})},el=()=>{this.setState({playing:!D})};return(0,y.jsxs)(l.zd,{height:T||"media-viewer"===g?"inherit":void 0,rounding:V,wash:!T&&"media-viewer"!==g||void 0,width:T||"media-viewer"===g?"inherit":void 0,willChangeTransform:!((0,P.G6)(h.userAgent.browserName)&&H),children:[W?this.renderCloseupVideoEndCard(et??"",Y??1,ee??1,o):(0,y.jsxs)(l.iP,{accessibilityLabel:this.props.i18n.bt("Pausar ou reproduzir o vídeo", "Pause or play video", "pin.closeup.video.tap", undefined, true),fullHeight:T||"media-viewer"===g,onMouseEnter:"hover"===m?this.handleShowControls:void 0,onMouseLeave:"hover"===m?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:[(0,y.jsx)(R.Z,{playing:D,zIndexValue:99}),(0,y.jsx)(d.Z,{id:"VideoWithContextLogging",children:(0,y.jsx)($.ZP,{aspectRatio:e??(ee??1)/(Y??1),backgroundColor:T?"black":s.yc,captions:f,closeupStoryPinViewability:n,contextLogData:{...i,video_id:this.props.video.id},hlsConfig:{startLevel:N.VS},isAutoPlay:!!t,loop:r,objectFit:c,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:"storyPin"===g?F:({time:e})=>{K&&"number"==typeof q?.duration&&q.duration>0&&w&&K({currentTime:e,duration:q.duration/O.gJ},w)},onVolumeChange:this.handleVolumeChange,pin:v,pinKey:v,playing:D,poster:et,preferMp4:u,preload:p,seekTime:Z,src:J,variant:g,video:u&&q||G||{},videoStartTime:X||x,volume:U})})]}),(0,y.jsx)(l.xu,{onMouseEnter:"hover"===m?this.handleShowControls:void 0,onMouseLeave:"hover"===m?this.handleHideControls:void 0,children:"storyPin"!==g&&(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...B?{...N.Ul}:{},flexDirection:"column-reverse"}},display:"flex",height:N.hy,maxHeight:E,maxWidth:L,paddingX:6,position:"absolute",width:"100%",zIndex:M.Gf,children:(0,y.jsx)(d.Z,{id:"IdeaPinVideoScrubber",children:(0,y.jsx)(z.Z,{activePageIndex:0,captionsUrl:f,handleMute:ei,handlePanelChange:en,handlePause:eo,handlePausePlay:el,handlePlay:ea,handleWatchAgain:this.handleRestartVideo,inMilliseconds:!1,isMuted:I,isPanelOpen:j,isPlaying:D,isStoryPin:!1,pageCount:1,pages:[],pinId:S,progressInfo:C,showEndCard:W,showVideoControls:B,viewParameter:156})})})})]})}}function U(e){let{pinKey:t,pinId:n,isPromoted:i,video:a,muted:l,variant:c}=e,u=(0,h.Z)(D,t),p=(0,m.ZP)(),_=(0,E.B)(),f=(0,j.g)(),b=(0,k.A)(),{seekTimes:x}=(0,L.Hx)(),{clientTrackingParams:v,closeupWithinMasonryEnabled:S,isCloseupMediaViewerOpen:w}=(0,g.x4)(),{maxWidth:P}=(0,s.Re)(),{appUI:C,setCurrentVideo:A}=(0,V.G)(),{videosAutoplaying:I}=C,{organicVideosAutoplaying:T,promotedVideosAutoplaying:R}=I,z=_.locale.toLowerCase(),M=(a.mp4?.captions_urls||a.hlsv3?.captions_urls)??{},O=z&&M[z]||Object.values(M)[0]||"",B=(0,Z.HG)(),N=i?R[n]:T[n],$=parseInt((0,F.Z)().t||0,10),[H,K]=(0,o.useState)(N?.currentTime||0),[U,X]=(0,o.useState)(null),[G,q]=(0,o.useState)(!0),[J,Y]=(0,o.useState)(l),{maxHeight:Q}=(0,r.Z)({pinKey:u});(0,o.useEffect)(()=>{let e=H;$>0&&(e=$),x[n]&&(e=x[n]),K(e)},[x,n,$,H]);let ee=(0,o.useMemo)(()=>("default"!==c||!w)&&(!N||!N.paused),[c,N,w]);return(0,y.jsx)(d.Z,{id:"CloseupVideoInner",children:(0,y.jsx)(W,{...e,captions:String(O)||"",clientTrackingParams:v,closeupWithinMasonryEnabled:S,i18n:p,isCloseupMediaViewerOpen:w,isDesktop:B,isMuted:J,isPanelOpen:G,isPlaying:ee,maxHeight:Q,maxWidth:"media-viewer"===c?void 0:P,panelOpen:G,pin:u,progressInfo:U,pwtSurfaceContext:b,requestContext:_,seekTime:x[n],setCurrentVideo:A,setMute:Y,setPanelOpen:q,setProgressInfo:X,storyPinStepStopwatch:f,variant:c,videoStartTime:H})})}H(W,"defaultProps",{loop:!1,showControls:"hover"})},974297:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return e?[e["736x"],e["564x"],e["474x"],e["236x"]].find(e=>e?.url)??null:null}},607600:function(e,t,n){n.d(t,{Z:()=>l});var i=n(537347),a=n.n(i),o=n(603316);function l(e){if("undefined"==typeof window||!document.head)return(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,n=[];return e.forEach(e=>{e.styles.forEach(i=>{let o=document.querySelector(`#${e.fontFamily??""}-${i.name}`);o||((o=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${i.name}`),t.appendChild(o),e.format&&i.fontUrl&&o&&o.sheet&&o.sheet.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${i.fontStyle}";
              font-weight: "${i.fontWeight}";
              src: url("${i.fontUrl}") format("${e.format}");
            }
          `,0),n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load()))})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{(0,o.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},291892:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),a=n(284778),o=n(785893);function l({alt:e,children:t,color:n,elementTiming:l,fetchPriority:s,isActive:r=!1,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,fit:h="none",srcSet:m,...g}){let _=(0,i.useRef)(null),y=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(p!==_.current||r&&r!==y.current){_.current=p??null;let e=document.querySelector(`img[src="${p}"]`)||null;e?.complete&&u()}y.current=r},[p,u,r]),(0,o.jsx)(a.Z,{...g,alt:e,color:n,elementTiming:l,fetchPriority:s,fit:h,naturalHeight:d,naturalWidth:c,onLoad:u,src:p,srcSet:m,children:t})}},658673:function(e,t,n){n.d(t,{Z:()=>v});var i=n(667294),a=n(729434),o=n(901360),l=n(592109),s=n(735201),r=n(645214),d=n(979817),c=n(868178),u=n(375730),p=n(594885),h=n(932885),m=n(986906),g=n(970773),_=n(361423);let y=(0,l.XV)("PwtStopwatch"),f=(e,t)=>{if(_.Z){if("start"===t.type&&!e.isTiming){let{name:n,startTime:i,navigationType:a}=t;return(0,o.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:_.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)y("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{let n=t.name||e.name;return y("ignoring action - stopwatch is not actively timing",t),(0,o.A9)(`WARN.${n}.noTiming.${t.type}`),e}if("annotate"===t.type){let n=_.Z.now();return y(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return y(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:t.value,type:t.annotationType}}}};if("binaryAnnotateOperation"===t.type){let{value:n,type:i}=t.binaryAnnotationValueAndType;if(!e.binaryAnnotations[t.name])return{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:n,type:i}}}};{let a=e.binaryAnnotations[t.name].value||0;return y(`operating on binary annotation {
          name: ${t.name}
          pervious value: ${String(a)}
          operand: ${String(n)}
        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[t.name]:{value:n?t.operation(a,n):a,type:i}}}}}}if("addSubspan"===t.type){y(`adding subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&y(`WARNING: adding duplicate subspan name {${t.name}}`);let n=t.id||(0,g.Z)();-1!==e.spans.findIndex(e=>e.id===n)&&y(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:y(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){y(`starting subspan {${t.name}}`),-1!==e.spans.findIndex(e=>e.name===t.name)&&y(`WARNING: starting duplicate subspan name {${t.name}}`);let n=t.id||(0,g.Z)();-1!==e.spans.findIndex(e=>e.id===n)&&y(`WARNING: starting duplicate subspan id {${t.name}: ${n}}`);let i=t.parentName?e.spans.find(e=>e.name===t.parentName)?.id:null;return{...e,spans:[...e.spans,{name:t.name,id:n,parentId:t.parentId||i,startTime:_.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){y(`stopping subspan {${t.name}}`),!t.id&&e.spans.filter(e=>e.name===t.name).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});let n=t.id?e.spans.findIndex(e=>e.id===t.id):e.spans.findIndex(e=>e.name===t.name);return n>-1?(e.spans[n].endTime=_.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(e=>e.name===t.currentName).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});let n=e.spans.findIndex(e=>e.name===t.currentName);return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(y(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){let{startTime:n,metricId:i,pwtStaticContext:a,annotations:o,binaryAnnotations:l,isSampled:p,spans:m,traceId:f}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),p){let s=t.stopTime||_.Z.now(),p=[...m.map(t=>{t.endTime===1/0&&(t.endTime=s);let n=e.spanNameUpdates.findIndex(e=>t.name===e.currentName);return n>-1&&(y(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(e=>e.newName!==t.name)),t})];if(t.manualAndResourceSpans||0===m.length){let e=(0,g.Z)();p.push({name:"network_resources",id:e,startTime:n,endTime:s,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map(t=>(0,u.Z)((0,d.p)(t,[]),e)).filter(Boolean))}let b={type:"COMPLETE",metricId:i,traceId:f,startTime:n,endTime:s,spans:p,annotationMap:{...(0,h.Z)(o)},binaryAnnotationMap:(0,r.ng)({metricId:i,pwtStaticContext:a,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,c.Z)({metricId:i,pwtStaticContext:a,result:b})}return(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("error"===t.type){let{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,o.H)(n),i&&i.disconnect(),(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();let n=t.reason||"",{startTime:i,metricId:a,pwtStaticContext:o,binaryAnnotations:l,traceId:d}=e,u={type:"ABORT",traceId:d,startTime:i,endTime:_.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,r.ng)({metricId:a,pwtStaticContext:o,binaryAnnotations:l,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:n};return(0,c.Z)({metricId:a,pwtStaticContext:o,result:u}),(0,s.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:d,spanNameUpdates:[]}}}return e};var b=n(891631),x=n(785893);let v=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:l,manualAndResourceSpans:r=!1})=>{let{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){let c=(({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{let o=(0,p.Z)(),l=(0,i.useRef)([]),r=(0,i.useRef)(null),d=(0,i.useRef)(null);null===d.current&&(d.current=(0,s.jf)());let[c,u]=(0,i.useReducer)(f,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:d.current,spanNameUpdates:[]});return o?{isTiming:c.isTiming,name:c.name,start:i=>(window.PerformanceObserver&&(l.current=[],r.current=(0,m.Z)({entryTypes:["resource"]},e=>{l.current=l.current.concat(e.getEntries()),l.current.length>1e3&&(l.current=l.current.slice(-1e3))})),u({type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:o,isSampled:!t||Math.random()<t})),stop:e=>u({type:"stop",stopTime:e,stopwatchPerformanceObserver:r.current,customStopwatchBuffer:l.current,manualAndResourceSpans:a}),error:e=>{u({type:"error",stopwatchPerformanceObserver:r.current,error:e})},abort:e=>u({type:"abort",stopTime:_.Z?.now(),stopwatchPerformanceObserver:r.current,customStopwatchBuffer:l.current,reason:e}),annotate:(e,t,n=!1)=>u({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,a=!1)=>u({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a=!1})=>u({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:a={},parentId:o=null,id:l=null,bypassIsTimingCheck:s=!1})=>u({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:l,bypassIsTimingCheck:s}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:a=null,id:o=null,bypassIsTimingCheck:l=!1})=>u({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:l}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o=!1})=>u({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>u({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>c.spans.filter(n=>n[e]===t),getTraceId:()=>c.traceId}:null})({name:e,sampleRate:t,navigationType:l,manualAndResourceSpans:r}),u=(0,b.Z)(),h=u?u.time:0,g=(0,i.useRef)(!1),y=c?.isTiming,v=(0,i.useCallback)(t=>{g.current?(g.current=!1,c?.abort(t)):(0,o.A9)(`WARN.${e}.noTiming.abort`)},[c]),S=(0,i.useCallback)((e,t)=>{c?.annotate(e,t)},[c]),w=(0,i.useCallback)((e,t,n,i)=>{c?.binaryAnnotate(e,t,n,i)},[c]),P=(0,i.useCallback)(({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})=>{c?.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})},[c]),C=(0,i.useCallback)(({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:l,bypassIsTimingCheck:s})=>{c?.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:o,id:l,bypassIsTimingCheck:s})},[c]),k=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:l})=>{c?.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:o,bypassIsTimingCheck:l})},[c]),j=(0,i.useCallback)(({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})=>{c?.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:o})},[c]),A=(0,i.useCallback)(({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{c?.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})},[c]),I=(0,i.useCallback)((e,t)=>c?c.getSpans(e,t):[],[c]),T=(0,i.useCallback)(()=>c?c.getTraceId():"",[c]),E=(0,i.useCallback)(t=>{g.current?(g.current=!1,c?.error(t)):(0,o.A9)(`WARN.${e}.noTiming.error`)},[c]),R=(0,i.useCallback)(e=>{g.current&&c?.abort("duplicated_init_stopwatch_action"),g.current=!0,c?.start(e)},[c]),z=(0,i.useCallback)(t=>{g.current?(g.current=!1,c?.stop(t)):(0,o.A9)(`WARN.${e}.noTiming.stop`)},[c]);(0,i.useEffect)(()=>()=>{n&&v("unloadOrClientNavigation")},[h]);let M=(0,i.useMemo)(()=>({name:e,isTiming:y,abort:v,addAnnotation:S,addBinaryAnnotation:w,binaryAnnotationOperation:P,addSubspan:C,subspanStart:k,subspanStop:j,getSpans:I,getTraceId:T,updateSubspanName:A,stop:z,error:E,start:R}),[y,v,S,w,P,C,k,j,I,T,A,z,E,R]);return(0,x.jsx)(d,{value:M,children:a})},get:c}}},716920:function(e,t,n){n.d(t,{T:()=>o,g:()=>l});let{Provider:i,get:a}=(0,n(658673).Z)({name:"story_pin_step",sampleRate:1}),o=i,l=a},932885:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,i)=>{let a=i?`${e}_${i+1}`:e;n={...n,[a]:t}})}),n}},281106:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),a=n(20256),o=n(883817),l=n(369416),s=n(123317),r=n(785893);function d({playing:e,zIndexValue:t}){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(l.Z,{unsafeCSS:"#story-pin-closeup-pause-play-overlay svg { filter: drop-shadow( 0px 0px 8px rgba(0,0,0,0.1));}"}),(0,r.jsx)(a.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"story-pin-closeup-pause-play-overlay",display:"flex",id:"story-pin-closeup-pause-play-overlay",justifyContent:"center",left:!0,opacity:.8,position:"absolute",right:!0,rounding:s.yR,top:!0,zIndex:t?new a.Ry(t):o.p8,children:!e&&(0,r.jsx)(a.JO,{accessibilityLabel:"Play",color:"light",icon:"play",size:48})})]})}},181663:function(e,t,n){n.d(t,{Z:()=>b});var i=n(667294),a=n(20256),o=n(19585),l=n(453179),s=n(579935),r=n(123317),d=n(724084),c=n(941404),u=n(572227),p=n(647709),h=n(239728),m=n(792171),g=n(601686),_=n(785893);let y=()=>{},f=({accessibilityLabel:e,dataTestId:t,disable:n,handleTap:i,icon:o})=>(0,_.jsx)(a.xu,{"data-test-id":t,opacity:n?.5:void 0,children:(0,_.jsx)(a.iP,{disabled:n,onTap:i,children:(0,_.jsx)(a.JO,{accessibilityLabel:e,color:"light",icon:o,size:16})})});function b({activePageIndex:e,handlePanelChange:t,handlePlay:n,handlePause:b,handlePausePlay:x,handleMute:v,handleVideoScrubbingNewPage:S,handleWatchAgain:w,inMilliseconds:P,isPlaying:C,isMuted:k,isPanelOpen:j,pages:A,pageCount:I,pinId:T="",progressInfo:E,showEndCard:R,showVideoControls:z=!1,viewParameter:M,isStoryPin:L=!0,captionsUrl:F=""}){let Z=(0,o.Z)(),{currentTime:O}=E||{},{seekTimes:V}=(0,d.Hx)(),{closeupWithinMasonryEnabled:B}=(0,g.x4)(),N=(0,m.H)(),$=(0,p.HG)(),{captionsEnabled:H}=N,D=(0,u.Z)(),K=A[e],{should_mute:W}=K||k,U=Object.keys(V).includes(T)&&V[T]?V[T]:O,X=(0,i.useMemo)(()=>A.map(e=>{let t=e.blocks?.find(e=>3===e.block_type),n=t?.video?.video_list?.V_HLSV3_MOBILE?.duration||t?.video?.video_list?.V_720P?.duration;return n?{duration:n,isVideo:!0}:{duration:l.oN,isVideo:!1}}),[A]),G=[{duration:E?.duration||0,isVideo:!0}],q=L?X:G,J=(K&&K.blocks?.[0]||{}).video?.video_list?.V_HLSV3_MOBILE?.captions_urls,Y=!1;(J&&0!==Object.keys(J).length||F)&&(Y=!0);let Q=(0,i.useMemo)(()=>q.reduce((e,t)=>e+(t.duration||0),0)/(L?h.gJ:1),[q,L]),ee=(0,i.useMemo)(()=>q.filter((t,n)=>n<e).reduce((e,t)=>e+(t.duration||0),0)/h.gJ,[q,e]),et=q.length>0&&q[e]?.isVideo?O??0:(O??0)*5+(ee??0),en=Z.bt("Ocultar legendas", "Hide captions", "gestalt.video.accessibilityHideCaptionsLabel", undefined, true),ei=Z.bt("Mostrar legendas", "Show captions", "gestalt.video.accessibilityShowCaptionsLabel", undefined, true);return(0,_.jsxs)(a.xu,{alignContent:"evenly",alignItems:"baseline",dangerouslySetInlineStyle:{__style:{gap:"18.5px",pointerEvents:"auto"}},direction:"column",display:"flex",justifyContent:"between",width:"100%",children:[(0,_.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:z||!C?1:0,transition:"all .1s"}},direction:"row",display:"flex",justifyContent:"between",width:"99%",children:[(0,_.jsxs)(a.kC,{alignItems:"center",direction:"row",gap:5,children:[(0,_.jsx)(f,{accessibilityLabel:C?Z.bt("Pausar", "Pause", "closeup.IdeaPinVideo.Pause", undefined, true):Z.bt("Reproduzir", "Play", "closeup.IdeaPinVideo.Play", undefined, true),dataTestId:`story-pin-closeup-${C?"pause":"play"}`,handleTap:R&&w?w:x,icon:C?"pause":"play"}),E&&(0,_.jsx)(a.iP,{children:(0,_.jsxs)(a.xu,{"aria-label":`${Z.bt("Duração do vídeo", "Video duration", "closeup.IdeaPinVideo.durationLabel", undefined, true)}: ${(0,r.Lc)(et)} of ${(0,r.Lc)(Q)}`,"data-test-id":"time-display",children:[(0,_.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`${(0,r.Lc)(et)}`})," ",(0,_.jsx)(a.xu,{display:"inlineBlock",opacity:.6,children:(0,_.jsx)(a.xv,{align:"end",color:"inverse",inline:!0,overflow:"normal",size:"300",weight:"bold",children:`/ ${(0,r.Lc)(Q)}`})})]})})]}),(0,_.jsxs)(a.kC,{direction:"row",gap:5,children:[Y&&(0,_.jsx)(f,{accessibilityLabel:H?ei:en,dataTestId:`closed-captions-button-${H?"disable":"enable"}`,handleTap:()=>{let e=$?"desktop_pin_page":"mweb_pin_page";H?(0,c.My)(`${e}.closed_captions_button.toggle_off`):(0,c.My)(`${e}.closed_captions_button.toggle_on`),D({action:"click",item:"closed-captions-button"}),N.setCaptionsEnabled(!H)},icon:H?"captions":"captions-outline"}),(0,_.jsx)(f,{accessibilityLabel:k?Z.bt("Reativar", "Unmute", "closeup.IdeaPinVideo.unmute", undefined, true):Z.bt("Silenciar", "Mute", "closeup.IdeaPinVideo.mute", undefined, true),dataTestId:`story-pin-closeup-${k?"unmute":"mute"}`,disable:W,handleTap:v,icon:k?"mute":"sound"}),t&&!B&&(0,_.jsx)(f,{accessibilityLabel:j?Z.bt("Maximizar", "Maximize", "closeup.IdeaPinVideo.maximize", undefined, true):Z.bt("Minimizar", "Minimize", "closeup.IdeaPinVideo.minimize", undefined, true),dataTestId:`story-pin-closeup-${j?"maximize":"minimize"}`,handleTap:t||y,icon:j?"maximize":"minimize"})]})]}),(0,_.jsx)(s.ZP,{activePageCurrentTime:U,activePageIndex:e,duration:Q,handlePause:b,handlePlay:n,handleVideoScrubbingNewPage:S,inMilliseconds:P,isPlaying:C,pageCount:I,pageDurations:q,pinId:T,progressInfo:E,shouldShowPlayhead:!0,showEndCard:R,showVideoControls:z,videoDurations:q,viewParameter:M})]})}},579935:function(e,t,n){n.d(t,{$:()=>g,$E:()=>m,ZP:()=>b});var i=n(667294),a=n(20256),o=n(521009),l=n(19585),s=n(453179),r=n(15667),d=n(785893);function c({pillHeight:e,scrubberWidth:t}){return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m}},display:"flex",flex:"grow",height:e,overflow:"hidden",rounding:"pill",children:(0,d.jsx)(a.xu,{color:g,dangerouslySetInlineStyle:{__style:{width:t}},"data-test-id":"video-progress-bar",height:"100%",rounding:"pill"})})}var u=n(724084),p=n(647709),h=n(239728);let m="rgba(255,255,255,0.24)",g="light",_=()=>{},y=({children:e,setHoveringChange:t,handleMouseDown:n,handleMouseLeave:i,handleTouchStart:o,playhead:s,isPlaying:r,showVideoControls:c})=>{let u=(0,l.Z)(),h=!(0,p.HG)();return(0,d.jsx)(a.iP,{children:(0,d.jsx)(a.xu,{ref:s,alignItems:"center","aria-label":u.bt("Barra de progresso do depurador de vídeo", "Video scrubber progress bar", "ideaPin.closeupvideo.videoScrubberLabel", undefined, true),dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},"data-test-id":"bullet-video-progress-bar",display:"flex",flex:"grow",justifyContent:h?"center":"start",marginBottom:6*!h,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchEnd:e=>e.preventDefault(),onTouchStart:o,opacity:c||!r?1:0,paddingY:6*!!h,position:"relative",role:"progressbar",width:"100%",children:e})})},f=({isRTL:e,isSeeking:t,scrubberWidth:n})=>(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:e?{right:n}:{left:n}},"data-test-id":"video-progress-bar-playhead",position:"relative",children:(0,d.jsx)(a.xu,{color:g,height:4,position:"absolute",rounding:"pill",children:(0,d.jsx)(a.xu,{color:"light",dangerouslySetInlineStyle:{__style:{marginTop:t?-8:-6}},height:t?16:12,marginStart:-2,rounding:"circle",width:t?16:12})})});function b({activePageIndex:e,activePageCurrentTime:t,pageCount:n,progressInfo:l,showEndCard:m,duration:b=0,pageDurations:x=[],handlePlay:v=_,handlePause:S=_,handleVideoScrubbingNewPage:w=_,inMilliseconds:P,videoDurations:C=[],viewParameter:k,isInactiveStreamPin:j=!1,isPlaying:A=!1,setVideoProgress:I,shouldShowPlayhead:T=!1,showVideoControls:E=!0,pinId:R=""}){let z=!(0,p.HG)(),M=(0,i.useRef)(null),{isRTL:L}=(0,r.B)(),[F,Z]=(0,i.useState)(!1),[O,V]=(0,i.useState)(A),[B,N]=(0,i.useState)(),$=(0,o.Z)(),[H,D]=(0,i.useState)(!1),{clearSeekTime:K,updateSeekTime:W}=(0,u.RC)(),U=(0,i.useCallback)((t,i)=>{if(!j&&i<=n){if(i!==e&&w(i),I){let{isVideo:e}=C[i];I({currentTime:t/1e3,duration:e?l?.duration??1:l?.duration??5,pinId:R})}W(t/1e3,R)}$({event_type:101,view_type:3,view_parameter:k,component:14302})},[e,w,j,$,n,R,l?.duration,I,W,C,k]),X=x.map(e=>`${(e.duration||0)/b/10}%`),G=(0,i.useMemo)(()=>{let e=0;return x.map(({duration:t})=>{let n=t+e,i={min:e,max:n};return e=n,i})},[x]),q=F?"0 1.2px":"0 1px",J=e=>()=>Z(e),Y=(0,i.useCallback)(e=>{if(!M.current)return;let{left:t=0,right:n=0,width:i=0}=M.current.getBoundingClientRect(),a=(L?Math.max(0,Math.min((n-e)/i,1)):Math.max(0,Math.min((e-t)/i,1)))*b*1e3,o=G.findIndex(e=>a>=e.min&&a<=e.max),l=-1===o?0:o;U(a-G[l].min,l)},[b,U,G,L]),Q=(0,i.useCallback)(()=>{H||V(A||m),D(!0)},[H,V,A,m]),ee=(0,i.useCallback)(e=>{Q(),A&&S(),Y(e.pageX)},[Q,A,S,Y]),et=(0,i.useCallback)(e=>{H&&Y(e.pageX)},[Y,H]),en=(0,i.useCallback)(e=>{if(H){e.preventDefault();let t=Array.from(e.changedTouches).find(e=>e.identifier===B);t&&Y(t.pageX)}},[H,Y,B]),ei=(0,i.useCallback)(()=>{J(!1),N(void 0),D(!1),O&&v()},[v,O]),ea=(0,i.useCallback)(e=>{Array.from(e.changedTouches).find(e=>e.identifier===B)&&(J(!1),N(void 0),D(!1),K()),O&&v()},[K,v,O,B]);return(0,i.useEffect)(()=>(H&&!j&&(window.addEventListener("mousemove",et),window.addEventListener("mouseup",ei),window.addEventListener("touchmove",en),window.addEventListener("touchend",ea)),()=>{window.removeEventListener("mousemove",et),window.removeEventListener("mouseup",ei),window.removeEventListener("touchmove",en),window.removeEventListener("touchend",ea)}),[et,ei,ea,en,j,H,Y,O,B]),(0,d.jsx)(y,{handleMouseDown:ee,handleMouseLeave:()=>{J(!1)},handleTouchStart:e=>{Q(),J(!0);let t=e.changedTouches[0];N(t.identifier),Y(t.pageX)},isPlaying:A,playhead:M,setHoveringChange:J,showVideoControls:E,children:Array(n).fill(void 0).map((i,o)=>{let r=l?.currentTime??0,u=l?.duration??s.P6,p=C[o],_=`${p?.isVideo&&P?Math.floor(1e4*(t??r)/(p.duration/h.gJ))/100:r/u*100}%`;return(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{margin:q}},flex:"grow",width:X.length===n?X[o]:"auto",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",children:o<e||m?(0,d.jsx)(a.xu,{color:g,height:4,rounding:"pill"}):e===o&&l?(0,d.jsxs)(a.kC,{alignItems:"center",flex:"grow",children:[T&&(E||F||H||z)&&(0,d.jsx)(f,{isRTL:L,isSeeking:H,scrubberWidth:_}),(0,d.jsx)(c,{pillHeight:4,scrubberWidth:_})]}):(0,d.jsx)(a.xu,{color:g,dangerouslySetInlineStyle:{__style:{opacity:.24}},height:4,rounding:"pill"})})},`${R}-${o}`)})})}},445698:function(e,t,n){n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>h,xm:()=>u});var i=n(667294),a=n(607600),o=n(123317),l=n(543561),s=n(341742);let r=(e,t)=>{let n=(0,o.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:o})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:o,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:r(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:r(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),h=({hasPin:e,pages:t,limitToSingleFont:n})=>{let[r,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(()=>!!e&&(0,l.X7)(t)),h=()=>{let e=t.reduce((e,t)=>{let i=t?.blocks?.filter(e=>[o.h8.PARAGRAPH,o.h8.HEADING].includes(e.type))||[];return n&&i.length>1&&(i=[i[0]]),i.forEach(t=>{let n=t.style?.font||o.Cc.font,{name:i=""}=n;e[i]||(e[i]=n)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,a.Z)(t),d(!0)}};return(0,s.Z)(()=>{h()}),(0,s.Z)(()=>{c||h()}),(0,i.useEffect)(()=>{c||u((0,l.X7)(t))},[c,t]),{fontsLoaded:r,mediaDataReceived:c}}},294711:function(e,t,n){n.d(t,{Z:()=>i});function i({currentTime:e,endTime:t,startTime:n}){return"number"!=typeof n||"number"!=typeof t||!(n>=0)||!(t>0)||!(n<t)||n<=e&&e<=t}},543561:function(e,t,n){n.d(t,{B7:()=>l,X7:()=>s,n4:()=>o});var i=n(123317);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let o=(e,t)=>{let n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(n)||!t?.match(n))return null;let i=e?.split("."),a=t?.split("."),o=Math.max((i??"").length,(a??"").length);for(let e=0;e<o;e+=1){let t=e<(i?.length??0)?parseInt(i?.[e]??"",10):0,n=e<(a?.length??0)?parseInt(a?.[e]??"",10):0;if(t<n)return -1;if(t>n)return 1}return 0};class l{constructor(e,t,n){if(a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}let s=e=>e.some(e=>(e?.blocks??[]).some(e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))},644493:function(e,t,n){n.d(t,{Z:()=>i});function i(e){try{return decodeURIComponent(e)}catch{return null}}},399806:function(e,t,n){n.d(t,{Q:()=>i,Z:()=>a});let i=()=>{let e,t="undefined"!=typeof window?window.navigator?.connection?.effectiveType:void 0,n=!window?.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return t?"4g"===t?e="40-80":(n="1x",e="0-1"):e="unknown",{downloadSpeedGroup:e,screenDimension:n}};function a(e){let{vHLSV3MOBILE:t,...n}=e,a=function({vEXP3:e,vEXP4:t,vEXP5:n,vEXP6:a,vEXP7:o,v720P:l}){let{downloadSpeedGroup:s,screenDimension:r}=i(),d={"1x":e,"2x":n},c={"1x":o,"2x":o};return({unknown:d,"0-1":d,"1-5":{"1x":t,"2x":n},"5-10":{"1x":n,"2x":n},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c})[s][r]||l||void 0}(n),o=t||void 0;return a?{hlsv3:o,mp4:a}:{hlsv3:o}}},807765:function(e,t,n){n.d(t,{c:()=>r,f:()=>s});var i=n(667294),a=n(729434),o=n(785893);let{Provider:l,get:s}=(0,a.Z)("CloseupAnimations");function r({children:e}){let[t,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),r=(0,i.useMemo)(()=>({isShowingShareButton:t,setIsShowingShareButton:n,isShowingVisualSearchButton:a,setIsShowingVisualSearchButton:s}),[t,a]);return(0,o.jsx)(l,{value:r,children:e})}},218831:function(e,t,n){n.d(t,{C:()=>s,K:()=>l});var i=n(667294),a=n(785893);let o=(0,i.createContext)({closeupBodyWidth:0,isCollageOverlayOpen:!1,isRelatedPins10PercentVisible:!1,setCloseupBodyWidth:()=>{},setIsCollageOverlayOpen:()=>{},setIsRelatedPins10PercentVisible:()=>{}});function l(){let e=(0,i.useContext)(o);if(!e)throw Error("useCloseupBodyContext must be used within CloseupBodyContextProvider");return e}function s({children:e}){let[t,n]=(0,i.useState)(0),[l,s]=(0,i.useState)(!1),[r,d]=(0,i.useState)(!1),c=(0,i.useMemo)(()=>({closeupBodyWidth:t,setCloseupBodyWidth:n,isCollageOverlayOpen:l,setIsCollageOverlayOpen:s,isRelatedPins10PercentVisible:r,setIsRelatedPins10PercentVisible:d}),[t,l,r]);return(0,a.jsx)(o,{value:c,children:e})}},85574:function(e,t,n){n.d(t,{Z:()=>s});let i={WebkitMaskImage:"-webkit-radial-gradient(white, black)"},a=e=>`${e??0}px`,o=({topLeft:e,topRight:t,bottomRight:n,bottomLeft:i})=>`${a(e)} ${a(t)} ${a(n)} ${a(i)}`,l=({additionalPadding:e=0}={})=>({borderRadius:o({topLeft:24+e,topRight:24+e,bottomRight:24+e,bottomLeft:24+e}),borderRadiusNumeric:24+e});function s({additionalPadding:e,isSideBySide:t,isPadded:n,isRTL:a,closeupWithinMasonryEnabled:s=!1,peekCloseupEnabled:r=!1}){let d={additionalPadding:e};if(s)return{borderStyle:{...i,borderRadius:"24px"},borderRadiusNumeric:24};if(r)return{borderStyle:{...i,borderRadius:"unset"},borderRadiusNumeric:0};if(t){let{borderRadius:e,borderRadiusNumeric:t}=(({getterOptions:e,isPadded:t,isRTL:n})=>t?l(e):n?(({additionalPadding:e=0}={})=>({borderRadius:o({topLeft:0,topRight:32+e,bottomRight:32+e,bottomLeft:0}),borderRadiusNumeric:32+e}))(e):(({additionalPadding:e=0}={})=>({borderRadius:o({topLeft:32+e,topRight:0,bottomRight:0,bottomLeft:32+e}),borderRadiusNumeric:32+e}))(e))({isPadded:n,isRTL:a,getterOptions:d});return{borderStyle:{...i,borderRadius:e},borderRadiusNumeric:t}}{let{borderRadius:e,borderRadiusNumeric:t}=(n?l:({additionalPadding:e=0}={})=>({borderRadius:o({topLeft:32+e,topRight:32+e,bottomRight:0,bottomLeft:0}),borderRadiusNumeric:32+e}))(d);return{borderStyle:{...i,borderRadius:e},borderRadiusNumeric:t}}}},653621:function(e,t,n){let i;n.d(t,{GL:()=>l,_z:()=>a,d0:()=>r,hO:()=>s,pM:()=>o});let a="video",o="image",l=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([a])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),s=(i=new Set,l.forEach(e=>{i=new Set([...i,...e])}),i),r=new Set([...s,o,"resource"])},452750:function(e,t,n){n.d(t,{Z:()=>a});var i=n(640785);function a(e){return{defaultStyle:0,fontFamily:e.name??"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/45591.pt_BR-3b3b6807ce86da34.mjs.map